{"ast":null,"code":"var _jsxFileName = \"/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/cohort-pipeline/components/UserTimelineViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserTimelineViewer = ({\n  data\n}) => {\n  _s();\n  var _data$data, _data$data2, _data$data3, _data$data4, _data$data4$structure, _data$data5, _data$data6, _data$data7, _data$data7$structure, _data$data$structured;\n  const [selectedUser, setSelectedUser] = useState('');\n  const [eventFilter, setEventFilter] = useState('all');\n  const [expandedEvents, setExpandedEvents] = useState(new Set());\n\n  // Debug logging\n  console.log('[DEBUG] UserTimelineViewer received data:', data);\n  console.log('[DEBUG] Data structure check:', {\n    hasData: !!data,\n    hasDataData: !!(data !== null && data !== void 0 && data.data),\n    hasUserTimelines: !!(data !== null && data !== void 0 && (_data$data = data.data) !== null && _data$data !== void 0 && _data$data.user_timelines),\n    hasTimelineData: !!(data !== null && data !== void 0 && (_data$data2 = data.data) !== null && _data$data2 !== void 0 && _data$data2.timeline_data),\n    hasStructuredFormat: !!(data !== null && data !== void 0 && (_data$data3 = data.data) !== null && _data$data3 !== void 0 && _data$data3.structured_format),\n    hasTimelineAnalysis: !!(data !== null && data !== void 0 && (_data$data4 = data.data) !== null && _data$data4 !== void 0 && (_data$data4$structure = _data$data4.structured_format) !== null && _data$data4$structure !== void 0 && _data$data4$structure.timeline_analysis),\n    dataKeys: data ? Object.keys(data) : [],\n    dataDataKeys: data !== null && data !== void 0 && data.data ? Object.keys(data.data) : []\n  });\n  if (!(data !== null && data !== void 0 && (_data$data5 = data.data) !== null && _data$data5 !== void 0 && _data$data5.user_timelines) && !(data !== null && data !== void 0 && (_data$data6 = data.data) !== null && _data$data6 !== void 0 && _data$data6.timeline_data) && !(data !== null && data !== void 0 && (_data$data7 = data.data) !== null && _data$data7 !== void 0 && (_data$data7$structure = _data$data7.structured_format) !== null && _data$data7$structure !== void 0 && _data$data7$structure.timeline_analysis) && !(data !== null && data !== void 0 && data.data)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 dark:text-gray-400\",\n        children: \"No timeline data available. Run an analysis to see results.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Handle multiple data formats: unified pipeline, legacy API, and direct timeline API\n  let timelineData;\n  let userTimelines = {};\n  if ((_data$data$structured = data.data.structured_format) !== null && _data$data$structured !== void 0 && _data$data$structured.timeline_analysis) {\n    // Unified pipeline format: timeline data is in structured_format.timeline_analysis\n    timelineData = data.data.structured_format.timeline_analysis;\n    userTimelines = timelineData.user_timelines || {};\n    console.log('[DEBUG] Using unified pipeline format. Timeline data:', timelineData);\n    console.log('[DEBUG] User timelines keys:', Object.keys(userTimelines));\n    console.log('[DEBUG] Sample user timeline:', Object.keys(userTimelines).slice(0, 1).map(userId => ({\n      userId,\n      data: userTimelines[userId]\n    })));\n  } else if (data.data.timeline_data && data.data.timeline_data.user_timelines) {\n    // Direct timeline API format: timeline_data contains the TimelineData structure\n    timelineData = data.data.timeline_data;\n    userTimelines = timelineData.user_timelines || {};\n  } else if (data.data.user_timelines && typeof data.data.user_timelines === 'object' && data.data.user_timelines.users) {\n    // Legacy format: user_timelines contains the entire legacy result\n    timelineData = data.data.user_timelines;\n    // Convert legacy format to expected structure\n    if (timelineData.users && timelineData.events) {\n      timelineData.users.forEach(user => {\n        userTimelines[user.id] = {\n          events: Object.values(timelineData.events[user.user_product_key] || {}).flat() || []\n        };\n      });\n    }\n  } else if (data.data.user_timelines) {\n    // New format: user_timelines is a direct mapping\n    timelineData = data.data;\n    userTimelines = data.data.user_timelines || {};\n  } else {\n    // Fallback: no valid data\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 dark:text-gray-400\",\n        children: \"No timeline data available. Run an analysis to see results.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n  const userIds = Object.keys(userTimelines);\n\n  // Get events for selected user\n  const selectedUserEvents = selectedUser && userTimelines[selectedUser] ? userTimelines[selectedUser].events || [] : [];\n\n  // Filter events based on event filter\n  const filteredEvents = selectedUserEvents.filter(event => {\n    var _event$event_name, _event$event_name2;\n    if (eventFilter === 'all') return true;\n    if (eventFilter === 'trial') return (_event$event_name = event.event_name) === null || _event$event_name === void 0 ? void 0 : _event$event_name.toLowerCase().includes('trial');\n    if (eventFilter === 'purchase') return (_event$event_name2 = event.event_name) === null || _event$event_name2 === void 0 ? void 0 : _event$event_name2.toLowerCase().includes('purchase');\n    if (eventFilter === 'revenue') return event.revenue && event.revenue > 0;\n    return true;\n  });\n  const formatCurrency = value => {\n    if (value === null || value === undefined) return '$0.00';\n    return `$${Number(value).toFixed(2)}`;\n  };\n  const formatDateTime = timestamp => {\n    return new Date(timestamp).toLocaleString();\n  };\n  const toggleEventExpansion = eventIndex => {\n    const newExpanded = new Set(expandedEvents);\n    if (newExpanded.has(eventIndex)) {\n      newExpanded.delete(eventIndex);\n    } else {\n      newExpanded.add(eventIndex);\n    }\n    setExpandedEvents(newExpanded);\n  };\n  const getEventTypeColor = eventName => {\n    const name = (eventName === null || eventName === void 0 ? void 0 : eventName.toLowerCase()) || '';\n    if (name.includes('trial')) return 'blue';\n    if (name.includes('purchase')) return 'green';\n    if (name.includes('revenue')) return 'purple';\n    return 'gray';\n  };\n  const getEventTypeIcon = eventName => {\n    const name = (eventName === null || eventName === void 0 ? void 0 : eventName.toLowerCase()) || '';\n    if (name.includes('trial')) return 'ðŸ”„';\n    if (name.includes('purchase')) return 'ðŸ’°';\n    if (name.includes('revenue')) return 'ðŸ’µ';\n    return 'ðŸ“Š';\n  };\n\n  // Calculate user summary stats\n  const userSummary = selectedUser && userTimelines[selectedUser] ? {\n    totalEvents: selectedUserEvents.length,\n    totalRevenue: selectedUserEvents.reduce((sum, event) => sum + (event.revenue || 0), 0),\n    trialEvents: selectedUserEvents.filter(e => {\n      var _e$event_name;\n      return (_e$event_name = e.event_name) === null || _e$event_name === void 0 ? void 0 : _e$event_name.toLowerCase().includes('trial');\n    }).length,\n    purchaseEvents: selectedUserEvents.filter(e => {\n      var _e$event_name2;\n      return (_e$event_name2 = e.event_name) === null || _e$event_name2 === void 0 ? void 0 : _e$event_name2.toLowerCase().includes('purchase');\n    }).length,\n    firstEvent: selectedUserEvents.length > 0 ? selectedUserEvents[0].timestamp : null,\n    lastEvent: selectedUserEvents.length > 0 ? selectedUserEvents[selectedUserEvents.length - 1].timestamp : null\n  } : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n          children: \"Select User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedUser,\n          onChange: e => setSelectedUser(e.target.value),\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Choose a user...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), userIds.slice(0, 100).map(userId => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: userId,\n            children: userId.length > 30 ? userId.substring(0, 30) + '...' : userId\n          }, userId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n          children: [\"Showing first 100 users (\", userIds.length, \" total)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n          children: \"Event Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: eventFilter,\n          onChange: e => setEventFilter(e.target.value),\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"trial\",\n            children: \"Trial Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"purchase\",\n            children: \"Purchase Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"revenue\",\n            children: \"Revenue Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), userSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-6 border border-indigo-200 dark:border-indigo-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold text-indigo-900 dark:text-indigo-200 mb-4\",\n        children: [\"User Summary: \", selectedUser]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-indigo-600 dark:text-indigo-400\",\n            children: userSummary.totalEvents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-indigo-700 dark:text-indigo-300\",\n            children: \"Total Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-green-600 dark:text-green-400\",\n            children: formatCurrency(userSummary.totalRevenue)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-green-700 dark:text-green-300\",\n            children: \"Total Revenue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-blue-600 dark:text-blue-400\",\n            children: userSummary.trialEvents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-blue-700 dark:text-blue-300\",\n            children: \"Trial Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-purple-600 dark:text-purple-400\",\n            children: userSummary.purchaseEvents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-purple-700 dark:text-purple-300\",\n            children: \"Purchase Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }, this), userSummary.firstEvent && userSummary.lastEvent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 pt-4 border-t border-indigo-200 dark:border-indigo-700 text-sm text-indigo-700 dark:text-indigo-300\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Activity Period:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 29\n        }, this), \" \", formatDateTime(userSummary.firstEvent), \" \\u2192 \", formatDateTime(userSummary.lastEvent)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }, this), selectedUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 dark:text-white\",\n          children: \"Event Timeline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600 dark:text-gray-400\",\n          children: [\"Showing \", filteredEvents.length, \" of \", selectedUserEvents.length, \" events\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }, this), filteredEvents.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: filteredEvents.map((event, index) => {\n          const isExpanded = expandedEvents.has(index);\n          const eventColor = getEventTypeColor(event.event_name);\n          const eventIcon = getEventTypeIcon(event.event_name);\n          const colorClasses = {\n            blue: 'border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20',\n            green: 'border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20',\n            purple: 'border-purple-200 bg-purple-50 dark:border-purple-800 dark:bg-purple-900/20',\n            gray: 'border-gray-200 bg-gray-50 dark:border-gray-600 dark:bg-gray-700'\n          };\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `border rounded-lg p-4 ${colorClasses[eventColor]} transition-all duration-200`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between cursor-pointer\",\n              onClick: () => toggleEventExpansion(index),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-lg\",\n                  children: eventIcon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-900 dark:text-white\",\n                    children: event.event_name || 'Unknown Event'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600 dark:text-gray-400\",\n                    children: formatDateTime(event.timestamp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [event.revenue && event.revenue > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-semibold text-green-600 dark:text-green-400\",\n                  children: formatCurrency(event.revenue)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\",\n                  children: isExpanded ? 'â–¼' : 'â–¶'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 41\n            }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\",\n                children: [event.product_id && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium text-gray-700 dark:text-gray-300\",\n                    children: \"Product ID:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 61\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-gray-600 dark:text-gray-400\",\n                    children: event.product_id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 61\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 57\n                }, this), event.revenue && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium text-gray-700 dark:text-gray-300\",\n                    children: \"Revenue:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 61\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-green-600 dark:text-green-400\",\n                    children: formatCurrency(event.revenue)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 61\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 57\n                }, this), event.properties && Object.keys(event.properties).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium text-gray-700 dark:text-gray-300\",\n                    children: \"Properties:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 61\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 bg-gray-100 dark:bg-gray-800 rounded p-2 text-xs\",\n                    children: /*#__PURE__*/_jsxDEV(\"pre\", {\n                      className: \"whitespace-pre-wrap\",\n                      children: JSON.stringify(event.properties, null, 2)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 65\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 61\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 45\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }, this) : selectedUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 dark:text-gray-400\",\n          children: \"No events found for the selected filter.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 25\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 17\n    }, this), !selectedUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-6xl mb-4\",\n        children: \"\\uD83D\\uDC64\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 dark:text-white mb-2\",\n        children: \"Select a User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 dark:text-gray-400\",\n        children: \"Choose a user from the dropdown above to view their detailed event timeline.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 9\n  }, this);\n};\n_s(UserTimelineViewer, \"cbFoMBx1FFHWyjsfr8IJ8LHvXtE=\");\n_c = UserTimelineViewer;\nexport default UserTimelineViewer;\nvar _c;\n$RefreshReg$(_c, \"UserTimelineViewer\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","UserTimelineViewer","data","_s","_data$data","_data$data2","_data$data3","_data$data4","_data$data4$structure","_data$data5","_data$data6","_data$data7","_data$data7$structure","_data$data$structured","selectedUser","setSelectedUser","eventFilter","setEventFilter","expandedEvents","setExpandedEvents","Set","console","log","hasData","hasDataData","hasUserTimelines","user_timelines","hasTimelineData","timeline_data","hasStructuredFormat","structured_format","hasTimelineAnalysis","timeline_analysis","dataKeys","Object","keys","dataDataKeys","className","children","fileName","_jsxFileName","lineNumber","columnNumber","timelineData","userTimelines","slice","map","userId","users","events","forEach","user","id","values","user_product_key","flat","userIds","selectedUserEvents","filteredEvents","filter","event","_event$event_name","_event$event_name2","event_name","toLowerCase","includes","revenue","formatCurrency","value","undefined","Number","toFixed","formatDateTime","timestamp","Date","toLocaleString","toggleEventExpansion","eventIndex","newExpanded","has","delete","add","getEventTypeColor","eventName","name","getEventTypeIcon","userSummary","totalEvents","length","totalRevenue","reduce","sum","trialEvents","e","_e$event_name","purchaseEvents","_e$event_name2","firstEvent","lastEvent","onChange","target","substring","index","isExpanded","eventColor","eventIcon","colorClasses","blue","green","purple","gray","onClick","product_id","properties","JSON","stringify","_c","$RefreshReg$"],"sources":["/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/cohort-pipeline/components/UserTimelineViewer.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst UserTimelineViewer = ({ data }) => {\n    const [selectedUser, setSelectedUser] = useState('');\n    const [eventFilter, setEventFilter] = useState('all');\n    const [expandedEvents, setExpandedEvents] = useState(new Set());\n\n    // Debug logging\n    console.log('[DEBUG] UserTimelineViewer received data:', data);\n    console.log('[DEBUG] Data structure check:', {\n        hasData: !!data,\n        hasDataData: !!data?.data,\n        hasUserTimelines: !!data?.data?.user_timelines,\n        hasTimelineData: !!data?.data?.timeline_data,\n        hasStructuredFormat: !!data?.data?.structured_format,\n        hasTimelineAnalysis: !!data?.data?.structured_format?.timeline_analysis,\n        dataKeys: data ? Object.keys(data) : [],\n        dataDataKeys: data?.data ? Object.keys(data.data) : []\n    });\n\n    if (!data?.data?.user_timelines && !data?.data?.timeline_data && !data?.data?.structured_format?.timeline_analysis && !data?.data) {\n        return (\n            <div className=\"text-center py-8\">\n                <p className=\"text-gray-500 dark:text-gray-400\">\n                    No timeline data available. Run an analysis to see results.\n                </p>\n            </div>\n        );\n    }\n\n    // Handle multiple data formats: unified pipeline, legacy API, and direct timeline API\n    let timelineData;\n    let userTimelines = {};\n    \n    if (data.data.structured_format?.timeline_analysis) {\n        // Unified pipeline format: timeline data is in structured_format.timeline_analysis\n        timelineData = data.data.structured_format.timeline_analysis;\n        userTimelines = timelineData.user_timelines || {};\n        console.log('[DEBUG] Using unified pipeline format. Timeline data:', timelineData);\n        console.log('[DEBUG] User timelines keys:', Object.keys(userTimelines));\n        console.log('[DEBUG] Sample user timeline:', Object.keys(userTimelines).slice(0, 1).map(userId => ({\n            userId,\n            data: userTimelines[userId]\n        })));\n    } else if (data.data.timeline_data && data.data.timeline_data.user_timelines) {\n        // Direct timeline API format: timeline_data contains the TimelineData structure\n        timelineData = data.data.timeline_data;\n        userTimelines = timelineData.user_timelines || {};\n    } else if (data.data.user_timelines && typeof data.data.user_timelines === 'object' && data.data.user_timelines.users) {\n        // Legacy format: user_timelines contains the entire legacy result\n        timelineData = data.data.user_timelines;\n        // Convert legacy format to expected structure\n        if (timelineData.users && timelineData.events) {\n            timelineData.users.forEach(user => {\n                userTimelines[user.id] = {\n                    events: Object.values(timelineData.events[user.user_product_key] || {}).flat() || []\n                };\n            });\n        }\n    } else if (data.data.user_timelines) {\n        // New format: user_timelines is a direct mapping\n        timelineData = data.data;\n        userTimelines = data.data.user_timelines || {};\n    } else {\n        // Fallback: no valid data\n        return (\n            <div className=\"text-center py-8\">\n                <p className=\"text-gray-500 dark:text-gray-400\">\n                    No timeline data available. Run an analysis to see results.\n                </p>\n            </div>\n        );\n    }\n    \n    const userIds = Object.keys(userTimelines);\n\n    // Get events for selected user\n    const selectedUserEvents = selectedUser && userTimelines[selectedUser] ? \n        userTimelines[selectedUser].events || [] : [];\n\n    // Filter events based on event filter\n    const filteredEvents = selectedUserEvents.filter(event => {\n        if (eventFilter === 'all') return true;\n        if (eventFilter === 'trial') return event.event_name?.toLowerCase().includes('trial');\n        if (eventFilter === 'purchase') return event.event_name?.toLowerCase().includes('purchase');\n        if (eventFilter === 'revenue') return event.revenue && event.revenue > 0;\n        return true;\n    });\n\n    const formatCurrency = (value) => {\n        if (value === null || value === undefined) return '$0.00';\n        return `$${Number(value).toFixed(2)}`;\n    };\n\n    const formatDateTime = (timestamp) => {\n        return new Date(timestamp).toLocaleString();\n    };\n\n    const toggleEventExpansion = (eventIndex) => {\n        const newExpanded = new Set(expandedEvents);\n        if (newExpanded.has(eventIndex)) {\n            newExpanded.delete(eventIndex);\n        } else {\n            newExpanded.add(eventIndex);\n        }\n        setExpandedEvents(newExpanded);\n    };\n\n    const getEventTypeColor = (eventName) => {\n        const name = eventName?.toLowerCase() || '';\n        if (name.includes('trial')) return 'blue';\n        if (name.includes('purchase')) return 'green';\n        if (name.includes('revenue')) return 'purple';\n        return 'gray';\n    };\n\n    const getEventTypeIcon = (eventName) => {\n        const name = eventName?.toLowerCase() || '';\n        if (name.includes('trial')) return 'ðŸ”„';\n        if (name.includes('purchase')) return 'ðŸ’°';\n        if (name.includes('revenue')) return 'ðŸ’µ';\n        return 'ðŸ“Š';\n    };\n\n    // Calculate user summary stats\n    const userSummary = selectedUser && userTimelines[selectedUser] ? {\n        totalEvents: selectedUserEvents.length,\n        totalRevenue: selectedUserEvents.reduce((sum, event) => sum + (event.revenue || 0), 0),\n        trialEvents: selectedUserEvents.filter(e => e.event_name?.toLowerCase().includes('trial')).length,\n        purchaseEvents: selectedUserEvents.filter(e => e.event_name?.toLowerCase().includes('purchase')).length,\n        firstEvent: selectedUserEvents.length > 0 ? selectedUserEvents[0].timestamp : null,\n        lastEvent: selectedUserEvents.length > 0 ? selectedUserEvents[selectedUserEvents.length - 1].timestamp : null\n    } : null;\n\n    return (\n        <div className=\"space-y-6\">\n            {/* User Selection and Filters */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Select User\n                    </label>\n                    <select\n                        value={selectedUser}\n                        onChange={(e) => setSelectedUser(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                    >\n                        <option value=\"\">Choose a user...</option>\n                        {userIds.slice(0, 100).map(userId => (\n                            <option key={userId} value={userId}>\n                                {userId.length > 30 ? userId.substring(0, 30) + '...' : userId}\n                            </option>\n                        ))}\n                    </select>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                        Showing first 100 users ({userIds.length} total)\n                    </p>\n                </div>\n\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Event Filter\n                    </label>\n                    <select\n                        value={eventFilter}\n                        onChange={(e) => setEventFilter(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                    >\n                        <option value=\"all\">All Events</option>\n                        <option value=\"trial\">Trial Events</option>\n                        <option value=\"purchase\">Purchase Events</option>\n                        <option value=\"revenue\">Revenue Events</option>\n                    </select>\n                </div>\n            </div>\n\n            {/* User Summary */}\n            {userSummary && (\n                <div className=\"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-6 border border-indigo-200 dark:border-indigo-800\">\n                    <h3 className=\"text-xl font-semibold text-indigo-900 dark:text-indigo-200 mb-4\">\n                        User Summary: {selectedUser}\n                    </h3>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                        <div className=\"text-center\">\n                            <div className=\"text-2xl font-bold text-indigo-600 dark:text-indigo-400\">\n                                {userSummary.totalEvents}\n                            </div>\n                            <div className=\"text-sm text-indigo-700 dark:text-indigo-300\">\n                                Total Events\n                            </div>\n                        </div>\n                        <div className=\"text-center\">\n                            <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\n                                {formatCurrency(userSummary.totalRevenue)}\n                            </div>\n                            <div className=\"text-sm text-green-700 dark:text-green-300\">\n                                Total Revenue\n                            </div>\n                        </div>\n                        <div className=\"text-center\">\n                            <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\n                                {userSummary.trialEvents}\n                            </div>\n                            <div className=\"text-sm text-blue-700 dark:text-blue-300\">\n                                Trial Events\n                            </div>\n                        </div>\n                        <div className=\"text-center\">\n                            <div className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">\n                                {userSummary.purchaseEvents}\n                            </div>\n                            <div className=\"text-sm text-purple-700 dark:text-purple-300\">\n                                Purchase Events\n                            </div>\n                        </div>\n                    </div>\n                    {userSummary.firstEvent && userSummary.lastEvent && (\n                        <div className=\"mt-4 pt-4 border-t border-indigo-200 dark:border-indigo-700 text-sm text-indigo-700 dark:text-indigo-300\">\n                            <strong>Activity Period:</strong> {formatDateTime(userSummary.firstEvent)} â†’ {formatDateTime(userSummary.lastEvent)}\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {/* Event Timeline */}\n            {selectedUser && (\n                <div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                        <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                            Event Timeline\n                        </h3>\n                        <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n                            Showing {filteredEvents.length} of {selectedUserEvents.length} events\n                        </div>\n                    </div>\n\n                    {filteredEvents.length > 0 ? (\n                        <div className=\"space-y-3\">\n                            {filteredEvents.map((event, index) => {\n                                const isExpanded = expandedEvents.has(index);\n                                const eventColor = getEventTypeColor(event.event_name);\n                                const eventIcon = getEventTypeIcon(event.event_name);\n\n                                const colorClasses = {\n                                    blue: 'border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20',\n                                    green: 'border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20',\n                                    purple: 'border-purple-200 bg-purple-50 dark:border-purple-800 dark:bg-purple-900/20',\n                                    gray: 'border-gray-200 bg-gray-50 dark:border-gray-600 dark:bg-gray-700'\n                                };\n\n                                return (\n                                    <div\n                                        key={index}\n                                        className={`border rounded-lg p-4 ${colorClasses[eventColor]} transition-all duration-200`}\n                                    >\n                                        <div \n                                            className=\"flex items-center justify-between cursor-pointer\"\n                                            onClick={() => toggleEventExpansion(index)}\n                                        >\n                                            <div className=\"flex items-center space-x-3\">\n                                                <span className=\"text-lg\">{eventIcon}</span>\n                                                <div>\n                                                    <div className=\"font-medium text-gray-900 dark:text-white\">\n                                                        {event.event_name || 'Unknown Event'}\n                                                    </div>\n                                                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n                                                        {formatDateTime(event.timestamp)}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"flex items-center space-x-3\">\n                                                {event.revenue && event.revenue > 0 && (\n                                                    <span className=\"text-sm font-semibold text-green-600 dark:text-green-400\">\n                                                        {formatCurrency(event.revenue)}\n                                                    </span>\n                                                )}\n                                                <button className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\">\n                                                    {isExpanded ? 'â–¼' : 'â–¶'}\n                                                </button>\n                                            </div>\n                                        </div>\n\n                                        {isExpanded && (\n                                            <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\">\n                                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                                                    {event.product_id && (\n                                                        <div>\n                                                            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Product ID:</span>\n                                                            <span className=\"ml-2 text-gray-600 dark:text-gray-400\">{event.product_id}</span>\n                                                        </div>\n                                                    )}\n                                                    {event.revenue && (\n                                                        <div>\n                                                            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Revenue:</span>\n                                                            <span className=\"ml-2 text-green-600 dark:text-green-400\">{formatCurrency(event.revenue)}</span>\n                                                        </div>\n                                                    )}\n                                                    {event.properties && Object.keys(event.properties).length > 0 && (\n                                                        <div className=\"md:col-span-2\">\n                                                            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Properties:</span>\n                                                            <div className=\"mt-2 bg-gray-100 dark:bg-gray-800 rounded p-2 text-xs\">\n                                                                <pre className=\"whitespace-pre-wrap\">\n                                                                    {JSON.stringify(event.properties, null, 2)}\n                                                                </pre>\n                                                            </div>\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    ) : selectedUser ? (\n                        <div className=\"text-center py-8\">\n                            <p className=\"text-gray-500 dark:text-gray-400\">\n                                No events found for the selected filter.\n                            </p>\n                        </div>\n                    ) : null}\n                </div>\n            )}\n\n            {!selectedUser && (\n                <div className=\"text-center py-12\">\n                    <div className=\"text-6xl mb-4\">ðŸ‘¤</div>\n                    <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n                        Select a User\n                    </h3>\n                    <p className=\"text-gray-500 dark:text-gray-400\">\n                        Choose a user from the dropdown above to view their detailed event timeline.\n                    </p>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default UserTimelineViewer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}