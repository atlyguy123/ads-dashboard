{"ast":null,"code":"import _objectSpread from\"/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Dashboard Controls Component\n// \n// Provides the main controls for the dashboard including date range selection,\n// configuration dropdown, and data refresh functionality.\nimport React,{useState,useEffect,useRef}from'react';import{Calendar,RefreshCw,Settings,Database,Clock,Eye,ChevronDown,ChevronUp,ArrowUp,ArrowDown}from'lucide-react';// Define all available columns with their display names and default visibility\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AVAILABLE_COLUMNS=[{key:'name',label:'Name',defaultVisible:true,alwaysVisible:true},// Always visible\n{key:'campaign_name',label:'Campaign',defaultVisible:true},{key:'adset_name',label:'Ad Set',defaultVisible:true},{key:'impressions',label:'Impressions',defaultVisible:true},{key:'clicks',label:'Clicks',defaultVisible:true},{key:'spend',label:'Spend',defaultVisible:true},{key:'meta_trials_started',label:'Trials (Meta)',defaultVisible:true},{key:'mixpanel_trials_started',label:'Trials (Mixpanel)',defaultVisible:true},{key:'meta_purchases',label:'Purchases (Meta)',defaultVisible:true},{key:'mixpanel_purchases',label:'Purchases (Mixpanel)',defaultVisible:true},{key:'trial_accuracy_ratio',label:'Trial Accuracy Ratio',defaultVisible:true},{key:'mixpanel_trials_ended',label:'Trials Ended (Mixpanel)',defaultVisible:false},{key:'mixpanel_trials_in_progress',label:'Trials In Progress (Mixpanel)',defaultVisible:false},{key:'mixpanel_refunds_usd',label:'Refunds (Mixpanel)',defaultVisible:true},{key:'mixpanel_revenue_usd',label:'Revenue (Mixpanel)',defaultVisible:true},{key:'mixpanel_conversions_net_refunds',label:'Net Conversions (Mixpanel)',defaultVisible:false},{key:'mixpanel_cost_per_trial',label:'Cost per Trial (Mixpanel)',defaultVisible:true},{key:'mixpanel_cost_per_purchase',label:'Cost per Purchase (Mixpanel)',defaultVisible:true},{key:'meta_cost_per_trial',label:'Cost per Trial (Meta)',defaultVisible:false},{key:'meta_cost_per_purchase',label:'Cost per Purchase (Meta)',defaultVisible:false},{key:'click_to_trial_rate',label:'Click to Trial Rate',defaultVisible:true},{key:'trial_conversion_rate',label:'Trial Conversion Rate',defaultVisible:true},{key:'avg_trial_refund_rate',label:'Trial Refund Rate',defaultVisible:true},{key:'purchase_accuracy_ratio',label:'Purchase Accuracy Ratio',defaultVisible:false},{key:'purchase_refund_rate',label:'Purchase Refund Rate',defaultVisible:true},{key:'estimated_revenue_usd',label:'Estimated Revenue',defaultVisible:true},{key:'profit',label:'Profit',defaultVisible:true},{key:'estimated_roas',label:'ROAS',defaultVisible:true},{key:'segment_accuracy_average',label:'Avg. Accuracy',defaultVisible:true}];const DashboardControls=_ref=>{let{onRefresh,isLoading=false,configurations={},selectedConfig=null,// Changed from 'basic_ad_data' to null\nonConfigChange,lastUpdated=null,onGetCurrentParams=null,// New prop to get current params\nonColumnVisibilityChange=null,// New prop to pass column visibility changes\nonColumnOrderChange=null// New prop to pass column order changes\n}=_ref;// Date range state with default values\nconst[dateRange,setDateRange]=useState({start_date:'2025-05-01',end_date:'2025-05-31'});// Breakdown selection state for analytics API\nconst[breakdown,setBreakdown]=useState('all');// Column visibility state\nconst[columnVisibility,setColumnVisibility]=useState({});// Column order state - array of column keys in display order\nconst[columnOrder,setColumnOrder]=useState(AVAILABLE_COLUMNS.map(col=>col.key));const[isColumnSelectorOpen,setIsColumnSelectorOpen]=useState(false);// Ref for the dropdown container\nconst dropdownRef=useRef(null);// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsColumnSelectorOpen(false);}};if(isColumnSelectorOpen){document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};}},[isColumnSelectorOpen]);// Load saved date range from localStorage on component mount\nuseEffect(()=>{const savedDateRange=localStorage.getItem('dashboard_date_range');if(savedDateRange){try{const parsed=JSON.parse(savedDateRange);setDateRange(parsed);}catch(e){console.warn('Failed to parse saved date range:',e);}}},[]);// Load saved breakdown from localStorage on component mount\nuseEffect(()=>{const savedBreakdown=localStorage.getItem('dashboard_breakdown');if(savedBreakdown){setBreakdown(savedBreakdown);}},[]);// Load saved column visibility from localStorage on component mount\nuseEffect(()=>{const savedVisibility=localStorage.getItem('dashboard_column_visibility');if(savedVisibility){try{const parsed=JSON.parse(savedVisibility);setColumnVisibility(parsed);}catch(e){console.warn('Failed to parse saved column visibility:',e);// Set default visibility if parsing fails\nconst defaultVisibility={};AVAILABLE_COLUMNS.forEach(col=>{defaultVisibility[col.key]=col.defaultVisible;});setColumnVisibility(defaultVisibility);}}else{// Set default visibility if no saved state\nconst defaultVisibility={};AVAILABLE_COLUMNS.forEach(col=>{defaultVisibility[col.key]=col.defaultVisible;});setColumnVisibility(defaultVisibility);}},[]);// Load saved column order from localStorage on component mount\nuseEffect(()=>{const savedOrder=localStorage.getItem('dashboard_column_order');if(savedOrder){try{const parsed=JSON.parse(savedOrder);// Validate that all current columns are in the saved order\nconst currentKeys=AVAILABLE_COLUMNS.map(col=>col.key);const validOrder=parsed.filter(key=>currentKeys.includes(key));// Add any new columns that weren't in the saved order\nconst missingKeys=currentKeys.filter(key=>!validOrder.includes(key));const finalOrder=[...validOrder,...missingKeys];setColumnOrder(finalOrder);}catch(e){console.warn('Failed to parse saved column order:',e);}}},[]);// Save date range to localStorage whenever it changes\nuseEffect(()=>{localStorage.setItem('dashboard_date_range',JSON.stringify(dateRange));},[dateRange]);// Save breakdown to localStorage whenever it changes\nuseEffect(()=>{localStorage.setItem('dashboard_breakdown',breakdown);},[breakdown]);// Save column visibility to localStorage whenever it changes\nuseEffect(()=>{localStorage.setItem('dashboard_column_visibility',JSON.stringify(columnVisibility));// Notify parent component about column visibility changes\nif(onColumnVisibilityChange){onColumnVisibilityChange(columnVisibility);}},[columnVisibility]);// Remove onColumnVisibilityChange from dependencies\n// Save column order to localStorage whenever it changes\nuseEffect(()=>{localStorage.setItem('dashboard_column_order',JSON.stringify(columnOrder));// Notify parent component about column order changes\nif(onColumnOrderChange){onColumnOrderChange(columnOrder);}},[columnOrder]);// Remove onColumnOrderChange from dependencies\n// Provide current params to parent component whenever they change\nuseEffect(()=>{if(onGetCurrentParams){const currentParams=_objectSpread(_objectSpread({},dateRange),{},{config_key:selectedConfig,breakdown:breakdown});onGetCurrentParams(currentParams);}},[dateRange,selectedConfig,breakdown]);// Remove onGetCurrentParams from dependencies\nconst handleDateChange=(field,value)=>{setDateRange(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleRefresh=()=>{if(onRefresh&&selectedConfig){onRefresh(_objectSpread(_objectSpread({},dateRange),{},{config_key:selectedConfig,breakdown:breakdown}));}};const handleColumnToggle=columnKey=>{setColumnVisibility(prev=>_objectSpread(_objectSpread({},prev),{},{[columnKey]:!prev[columnKey]}));};const handleSelectAll=()=>{const newVisibility={};AVAILABLE_COLUMNS.forEach(col=>{newVisibility[col.key]=true;});setColumnVisibility(newVisibility);};const handleSelectNone=()=>{const newVisibility={};AVAILABLE_COLUMNS.forEach(col=>{// Always keep name column visible\nnewVisibility[col.key]=col.alwaysVisible||false;});setColumnVisibility(newVisibility);};const handleResetToDefaults=()=>{const defaultVisibility={};AVAILABLE_COLUMNS.forEach(col=>{defaultVisibility[col.key]=col.defaultVisible;});setColumnVisibility(defaultVisibility);// Reset column order too\nsetColumnOrder(AVAILABLE_COLUMNS.map(col=>col.key));};const moveColumn=(columnKey,direction)=>{const currentIndex=columnOrder.indexOf(columnKey);if(currentIndex===-1)return;let newIndex;if(direction==='up'){newIndex=currentIndex-1;}else{newIndex=currentIndex+1;}// Prevent moving beyond bounds or into the name column position (index 0)\nif(newIndex<1||newIndex>=columnOrder.length)return;const newOrder=[...columnOrder];const[movedColumn]=newOrder.splice(currentIndex,1);newOrder.splice(newIndex,0,movedColumn);setColumnOrder(newOrder);};const formatLastUpdated=timestamp=>{if(!timestamp)return'Never';try{return new Date(timestamp).toLocaleString();}catch(e){return'Invalid date';}};const visibleColumnsCount=Object.values(columnVisibility).filter(Boolean).length;// Get ordered columns for display in dropdown\nconst orderedColumns=columnOrder.map(key=>AVAILABLE_COLUMNS.find(col=>col.key===key)).filter(Boolean);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-soft p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-gray-100 flex items-center\",children:[/*#__PURE__*/_jsx(Settings,{size:20,className:\"mr-2\"}),\"Dashboard Controls\"]}),lastUpdated&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(Clock,{size:14,className:\"mr-1\"}),\"Last updated: \",formatLastUpdated(lastUpdated)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(Calendar,{size:16,className:\"inline mr-2\"}),\"Date Range\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateRange.start_date,onChange:e=>handleDateChange('start_date',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dateRange.end_date,onChange:e=>handleDateChange('end_date',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(Database,{size:16,className:\"inline mr-2\"}),\"Data Configuration\"]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedConfig||'',onChange:e=>onConfigChange&&onConfigChange(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\",children:[!selectedConfig&&/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Loading configurations...\"}),Object.entries(configurations).map(_ref2=>{let[key,config]=_ref2;return/*#__PURE__*/_jsxs(\"option\",{value:key,children:[config.name,config.day_count?\" (\".concat(config.day_count,\" days)\"):'',config.is_default?' - Default':'']},key);})]}),configurations[selectedConfig]&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1 space-y-1\",children:[/*#__PURE__*/_jsx(\"p\",{children:configurations[selectedConfig].description}),configurations[selectedConfig].date_range&&/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{size:12,className:\"mr-1\"}),\"Available: \",configurations[selectedConfig].date_range]}),configurations[selectedConfig].day_count&&/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Database,{size:12,className:\"mr-1\"}),configurations[selectedConfig].day_count,\" days of data\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(Settings,{size:16,className:\"inline mr-2\"}),\"Data Breakdown\"]}),/*#__PURE__*/_jsxs(\"select\",{value:breakdown,onChange:e=>setBreakdown(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Data (Combined View)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"country\",children:\"By Country\"}),/*#__PURE__*/_jsx(\"option\",{value:\"region\",children:\"By Region\"}),/*#__PURE__*/_jsx(\"option\",{value:\"device\",children:\"By Device Type\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Controls which analytics table is used for data aggregation\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 relative\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(Eye,{size:16,className:\"inline mr-2\"}),\"Column Visibility\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsColumnSelectorOpen(!isColumnSelectorOpen),className:\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[visibleColumnsCount,\" columns visible\"]}),isColumnSelectorOpen?/*#__PURE__*/_jsx(ChevronUp,{size:16}):/*#__PURE__*/_jsx(ChevronDown,{size:16})]}),isColumnSelectorOpen&&/*#__PURE__*/_jsxs(\"div\",{ref:dropdownRef,className:\"absolute top-full left-0 right-0 z-50 mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-[480px] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border-b border-gray-200 dark:border-gray-600 sticky top-0 bg-white dark:bg-gray-700 z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSelectAll,className:\"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-800\",children:\"Select All\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSelectNone,className:\"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-500\",children:\"Select None\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleResetToDefaults,className:\"px-2 py-1 text-xs bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-800\",children:\"Reset to Defaults\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"\\uD83D\\uDCA1 Tip: Drag column headers in the table or use arrows below to reorder\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 space-y-2\",children:orderedColumns.map((column,index)=>{const canMoveUp=index>1;// Skip name column (index 0) and first moveable column\nconst canMoveDown=index<orderedColumns.length-1;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:columnVisibility[column.key]||false,onChange:()=>handleColumnToggle(column.key),disabled:column.alwaysVisible,className:\"mr-3 h-4 w-4 text-blue-600 rounded border-gray-300 dark:border-gray-500 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex-1 text-sm \".concat(column.alwaysVisible?'text-gray-500 dark:text-gray-400':'text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-gray-100'),children:[column.label,column.alwaysVisible&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 text-xs\",children:\"(always visible)\"})]}),!column.alwaysVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 ml-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveColumn(column.key,'up'),disabled:!canMoveUp,className:\"p-1 rounded \".concat(canMoveUp?'text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-200 dark:hover:bg-gray-500':'text-gray-300 dark:text-gray-600 cursor-not-allowed'),title:\"Move up\",children:/*#__PURE__*/_jsx(ArrowUp,{size:12})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveColumn(column.key,'down'),disabled:!canMoveDown,className:\"p-1 rounded \".concat(canMoveDown?'text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-200 dark:hover:bg-gray-500':'text-gray-300 dark:text-gray-600 cursor-not-allowed'),title:\"Move down\",children:/*#__PURE__*/_jsx(ArrowDown,{size:12})})]})]},column.key);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Action\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleRefresh,disabled:isLoading||!selectedConfig,className:\"w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium\\n                       \".concat(isLoading||!selectedConfig?'bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed':'bg-blue-600 hover:bg-blue-700 text-white',\" transition-colors duration-200\"),children:[/*#__PURE__*/_jsx(RefreshCw,{size:16,className:\"mr-2 \".concat(isLoading?'animate-spin':'')}),isLoading?'Refreshing...':!selectedConfig?'Select Configuration':'Refresh Data']})]})]})]});};export{DashboardControls,AVAILABLE_COLUMNS};","map":{"version":3,"names":["React","useState","useEffect","useRef","Calendar","RefreshCw","Settings","Database","Clock","Eye","ChevronDown","ChevronUp","ArrowUp","ArrowDown","jsx","_jsx","jsxs","_jsxs","AVAILABLE_COLUMNS","key","label","defaultVisible","alwaysVisible","DashboardControls","_ref","onRefresh","isLoading","configurations","selectedConfig","onConfigChange","lastUpdated","onGetCurrentParams","onColumnVisibilityChange","onColumnOrderChange","dateRange","setDateRange","start_date","end_date","breakdown","setBreakdown","columnVisibility","setColumnVisibility","columnOrder","setColumnOrder","map","col","isColumnSelectorOpen","setIsColumnSelectorOpen","dropdownRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","savedDateRange","localStorage","getItem","parsed","JSON","parse","e","console","warn","savedBreakdown","savedVisibility","defaultVisibility","forEach","savedOrder","currentKeys","validOrder","filter","includes","missingKeys","finalOrder","setItem","stringify","currentParams","_objectSpread","config_key","handleDateChange","field","value","prev","handleRefresh","handleColumnToggle","columnKey","handleSelectAll","newVisibility","handleSelectNone","handleResetToDefaults","moveColumn","direction","currentIndex","indexOf","newIndex","length","newOrder","movedColumn","splice","formatLastUpdated","timestamp","Date","toLocaleString","visibleColumnsCount","Object","values","Boolean","orderedColumns","find","className","children","size","type","onChange","disabled","entries","_ref2","config","name","day_count","concat","is_default","description","date_range","onClick","ref","column","index","canMoveUp","canMoveDown","checked","title"],"sources":["/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/components/dashboard/DashboardControls.jsx"],"sourcesContent":["// Dashboard Controls Component\n// \n// Provides the main controls for the dashboard including date range selection,\n// configuration dropdown, and data refresh functionality.\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Calendar, RefreshCw, Settings, Database, Clock, Eye, ChevronDown, ChevronUp, ArrowUp, ArrowDown } from 'lucide-react';\n\n// Define all available columns with their display names and default visibility\nconst AVAILABLE_COLUMNS = [\n  { key: 'name', label: 'Name', defaultVisible: true, alwaysVisible: true }, // Always visible\n  { key: 'campaign_name', label: 'Campaign', defaultVisible: true },\n  { key: 'adset_name', label: 'Ad Set', defaultVisible: true },\n  { key: 'impressions', label: 'Impressions', defaultVisible: true },\n  { key: 'clicks', label: 'Clicks', defaultVisible: true },\n  { key: 'spend', label: 'Spend', defaultVisible: true },\n  { key: 'meta_trials_started', label: 'Trials (Meta)', defaultVisible: true },\n  { key: 'mixpanel_trials_started', label: 'Trials (Mixpanel)', defaultVisible: true },\n  { key: 'meta_purchases', label: 'Purchases (Meta)', defaultVisible: true },\n  { key: 'mixpanel_purchases', label: 'Purchases (Mixpanel)', defaultVisible: true },\n  { key: 'trial_accuracy_ratio', label: 'Trial Accuracy Ratio', defaultVisible: true },\n  { key: 'mixpanel_trials_ended', label: 'Trials Ended (Mixpanel)', defaultVisible: false },\n  { key: 'mixpanel_trials_in_progress', label: 'Trials In Progress (Mixpanel)', defaultVisible: false },\n  { key: 'mixpanel_refunds_usd', label: 'Refunds (Mixpanel)', defaultVisible: true },\n  { key: 'mixpanel_revenue_usd', label: 'Revenue (Mixpanel)', defaultVisible: true },\n  { key: 'mixpanel_conversions_net_refunds', label: 'Net Conversions (Mixpanel)', defaultVisible: false },\n  { key: 'mixpanel_cost_per_trial', label: 'Cost per Trial (Mixpanel)', defaultVisible: true },\n  { key: 'mixpanel_cost_per_purchase', label: 'Cost per Purchase (Mixpanel)', defaultVisible: true },\n  { key: 'meta_cost_per_trial', label: 'Cost per Trial (Meta)', defaultVisible: false },\n  { key: 'meta_cost_per_purchase', label: 'Cost per Purchase (Meta)', defaultVisible: false },\n  { key: 'click_to_trial_rate', label: 'Click to Trial Rate', defaultVisible: true },\n  { key: 'trial_conversion_rate', label: 'Trial Conversion Rate', defaultVisible: true },\n  { key: 'avg_trial_refund_rate', label: 'Trial Refund Rate', defaultVisible: true },\n  { key: 'purchase_accuracy_ratio', label: 'Purchase Accuracy Ratio', defaultVisible: false },\n  { key: 'purchase_refund_rate', label: 'Purchase Refund Rate', defaultVisible: true },\n  { key: 'estimated_revenue_usd', label: 'Estimated Revenue', defaultVisible: true },\n  { key: 'profit', label: 'Profit', defaultVisible: true },\n  { key: 'estimated_roas', label: 'ROAS', defaultVisible: true },\n  { key: 'segment_accuracy_average', label: 'Avg. Accuracy', defaultVisible: true }\n];\n\nconst DashboardControls = ({ \n  onRefresh, \n  isLoading = false, \n  configurations = {}, \n  selectedConfig = null,  // Changed from 'basic_ad_data' to null\n  onConfigChange,\n  lastUpdated = null,\n  onGetCurrentParams = null,  // New prop to get current params\n  onColumnVisibilityChange = null,  // New prop to pass column visibility changes\n  onColumnOrderChange = null  // New prop to pass column order changes\n}) => {\n  // Date range state with default values\n  const [dateRange, setDateRange] = useState({\n    start_date: '2025-05-01',\n    end_date: '2025-05-31'\n  });\n\n  // Breakdown selection state for analytics API\n  const [breakdown, setBreakdown] = useState('all');\n\n  // Column visibility state\n  const [columnVisibility, setColumnVisibility] = useState({});\n  \n  // Column order state - array of column keys in display order\n  const [columnOrder, setColumnOrder] = useState(AVAILABLE_COLUMNS.map(col => col.key));\n  \n  const [isColumnSelectorOpen, setIsColumnSelectorOpen] = useState(false);\n  \n  // Ref for the dropdown container\n  const dropdownRef = useRef(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsColumnSelectorOpen(false);\n      }\n    };\n\n    if (isColumnSelectorOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [isColumnSelectorOpen]);\n\n  // Load saved date range from localStorage on component mount\n  useEffect(() => {\n    const savedDateRange = localStorage.getItem('dashboard_date_range');\n    if (savedDateRange) {\n      try {\n        const parsed = JSON.parse(savedDateRange);\n        setDateRange(parsed);\n      } catch (e) {\n        console.warn('Failed to parse saved date range:', e);\n      }\n    }\n  }, []);\n\n  // Load saved breakdown from localStorage on component mount\n  useEffect(() => {\n    const savedBreakdown = localStorage.getItem('dashboard_breakdown');\n    if (savedBreakdown) {\n      setBreakdown(savedBreakdown);\n    }\n  }, []);\n\n  // Load saved column visibility from localStorage on component mount\n  useEffect(() => {\n    const savedVisibility = localStorage.getItem('dashboard_column_visibility');\n    if (savedVisibility) {\n      try {\n        const parsed = JSON.parse(savedVisibility);\n        setColumnVisibility(parsed);\n      } catch (e) {\n        console.warn('Failed to parse saved column visibility:', e);\n        // Set default visibility if parsing fails\n        const defaultVisibility = {};\n        AVAILABLE_COLUMNS.forEach(col => {\n          defaultVisibility[col.key] = col.defaultVisible;\n        });\n        setColumnVisibility(defaultVisibility);\n      }\n    } else {\n      // Set default visibility if no saved state\n      const defaultVisibility = {};\n      AVAILABLE_COLUMNS.forEach(col => {\n        defaultVisibility[col.key] = col.defaultVisible;\n      });\n      setColumnVisibility(defaultVisibility);\n    }\n  }, []);\n\n  // Load saved column order from localStorage on component mount\n  useEffect(() => {\n    const savedOrder = localStorage.getItem('dashboard_column_order');\n    if (savedOrder) {\n      try {\n        const parsed = JSON.parse(savedOrder);\n        // Validate that all current columns are in the saved order\n        const currentKeys = AVAILABLE_COLUMNS.map(col => col.key);\n        const validOrder = parsed.filter(key => currentKeys.includes(key));\n        \n        // Add any new columns that weren't in the saved order\n        const missingKeys = currentKeys.filter(key => !validOrder.includes(key));\n        const finalOrder = [...validOrder, ...missingKeys];\n        \n        setColumnOrder(finalOrder);\n      } catch (e) {\n        console.warn('Failed to parse saved column order:', e);\n      }\n    }\n  }, []);\n\n  // Save date range to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('dashboard_date_range', JSON.stringify(dateRange));\n  }, [dateRange]);\n\n  // Save breakdown to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('dashboard_breakdown', breakdown);\n  }, [breakdown]);\n\n  // Save column visibility to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('dashboard_column_visibility', JSON.stringify(columnVisibility));\n    // Notify parent component about column visibility changes\n    if (onColumnVisibilityChange) {\n      onColumnVisibilityChange(columnVisibility);\n    }\n  }, [columnVisibility]); // Remove onColumnVisibilityChange from dependencies\n\n  // Save column order to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('dashboard_column_order', JSON.stringify(columnOrder));\n    // Notify parent component about column order changes\n    if (onColumnOrderChange) {\n      onColumnOrderChange(columnOrder);\n    }\n  }, [columnOrder]); // Remove onColumnOrderChange from dependencies\n\n  // Provide current params to parent component whenever they change\n  useEffect(() => {\n    if (onGetCurrentParams) {\n      const currentParams = {\n        ...dateRange,\n        config_key: selectedConfig,\n        breakdown: breakdown\n      };\n      onGetCurrentParams(currentParams);\n    }\n  }, [dateRange, selectedConfig, breakdown]); // Remove onGetCurrentParams from dependencies\n\n  const handleDateChange = (field, value) => {\n    setDateRange(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleRefresh = () => {\n    if (onRefresh && selectedConfig) {\n      onRefresh({\n        ...dateRange,\n        config_key: selectedConfig,\n        breakdown: breakdown\n      });\n    }\n  };\n\n  const handleColumnToggle = (columnKey) => {\n    setColumnVisibility(prev => ({\n      ...prev,\n      [columnKey]: !prev[columnKey]\n    }));\n  };\n\n  const handleSelectAll = () => {\n    const newVisibility = {};\n    AVAILABLE_COLUMNS.forEach(col => {\n      newVisibility[col.key] = true;\n    });\n    setColumnVisibility(newVisibility);\n  };\n\n  const handleSelectNone = () => {\n    const newVisibility = {};\n    AVAILABLE_COLUMNS.forEach(col => {\n      // Always keep name column visible\n      newVisibility[col.key] = col.alwaysVisible || false;\n    });\n    setColumnVisibility(newVisibility);\n  };\n\n  const handleResetToDefaults = () => {\n    const defaultVisibility = {};\n    AVAILABLE_COLUMNS.forEach(col => {\n      defaultVisibility[col.key] = col.defaultVisible;\n    });\n    setColumnVisibility(defaultVisibility);\n    \n    // Reset column order too\n    setColumnOrder(AVAILABLE_COLUMNS.map(col => col.key));\n  };\n\n  const moveColumn = (columnKey, direction) => {\n    const currentIndex = columnOrder.indexOf(columnKey);\n    if (currentIndex === -1) return;\n    \n    let newIndex;\n    if (direction === 'up') {\n      newIndex = currentIndex - 1;\n    } else {\n      newIndex = currentIndex + 1;\n    }\n    \n    // Prevent moving beyond bounds or into the name column position (index 0)\n    if (newIndex < 1 || newIndex >= columnOrder.length) return;\n    \n    const newOrder = [...columnOrder];\n    const [movedColumn] = newOrder.splice(currentIndex, 1);\n    newOrder.splice(newIndex, 0, movedColumn);\n    \n    setColumnOrder(newOrder);\n  };\n\n  const formatLastUpdated = (timestamp) => {\n    if (!timestamp) return 'Never';\n    try {\n      return new Date(timestamp).toLocaleString();\n    } catch (e) {\n      return 'Invalid date';\n    }\n  };\n\n  const visibleColumnsCount = Object.values(columnVisibility).filter(Boolean).length;\n\n  // Get ordered columns for display in dropdown\n  const orderedColumns = columnOrder.map(key => \n    AVAILABLE_COLUMNS.find(col => col.key === key)\n  ).filter(Boolean);\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-soft p-6 mb-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100 flex items-center\">\n          <Settings size={20} className=\"mr-2\" />\n          Dashboard Controls\n        </h2>\n        \n        {lastUpdated && (\n          <div className=\"flex items-center text-sm text-gray-500 dark:text-gray-400\">\n            <Clock size={14} className=\"mr-1\" />\n            Last updated: {formatLastUpdated(lastUpdated)}\n          </div>\n        )}\n      </div>\n\n      {/* Controls Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\n        {/* Date Range */}\n        <div className=\"space-y-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            <Calendar size={16} className=\"inline mr-2\" />\n            Date Range\n          </label>\n          <div className=\"grid grid-cols-2 gap-2\">\n            <div>\n              <label className=\"block text-xs text-gray-500 mb-1\">Start Date</label>\n              <input\n                type=\"date\"\n                value={dateRange.start_date}\n                onChange={(e) => handleDateChange('start_date', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md \n                         bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\n                         focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-xs text-gray-500 mb-1\">End Date</label>\n              <input\n                type=\"date\"\n                value={dateRange.end_date}\n                onChange={(e) => handleDateChange('end_date', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md \n                         bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\n                         focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Configuration Dropdown */}\n        <div className=\"space-y-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            <Database size={16} className=\"inline mr-2\" />\n            Data Configuration\n          </label>\n          <select\n            value={selectedConfig || ''}\n            onChange={(e) => onConfigChange && onConfigChange(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md \n                     bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\n                     focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n          >\n            {!selectedConfig && (\n              <option value=\"\" disabled>\n                Loading configurations...\n              </option>\n            )}\n            {Object.entries(configurations).map(([key, config]) => (\n              <option key={key} value={key}>\n                {config.name}\n                {config.day_count ? ` (${config.day_count} days)` : ''}\n                {config.is_default ? ' - Default' : ''}\n              </option>\n            ))}\n          </select>\n          {configurations[selectedConfig] && (\n            <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-1 space-y-1\">\n              <p>{configurations[selectedConfig].description}</p>\n              {configurations[selectedConfig].date_range && (\n                <p className=\"flex items-center\">\n                  <Calendar size={12} className=\"mr-1\" />\n                  Available: {configurations[selectedConfig].date_range}\n                </p>\n              )}\n              {configurations[selectedConfig].day_count && (\n                <p className=\"flex items-center\">\n                  <Database size={12} className=\"mr-1\" />\n                  {configurations[selectedConfig].day_count} days of data\n                </p>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Breakdown Selection - NEW ANALYTICS API FEATURE */}\n        <div className=\"space-y-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            <Settings size={16} className=\"inline mr-2\" />\n            Data Breakdown\n          </label>\n          <select\n            value={breakdown}\n            onChange={(e) => setBreakdown(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md \n                     bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\n                     focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n          >\n            <option value=\"all\">All Data (Combined View)</option>\n            <option value=\"country\">By Country</option>\n            <option value=\"region\">By Region</option>\n            <option value=\"device\">By Device Type</option>\n          </select>\n          <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n            <p>Controls which analytics table is used for data aggregation</p>\n          </div>\n        </div>\n\n        {/* Column Selection */}\n        <div className=\"space-y-2 relative\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            <Eye size={16} className=\"inline mr-2\" />\n            Column Visibility\n          </label>\n          <button\n            onClick={() => setIsColumnSelectorOpen(!isColumnSelectorOpen)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md \n                     bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\n                     focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\n                     flex items-center justify-between\"\n          >\n            <span>{visibleColumnsCount} columns visible</span>\n            {isColumnSelectorOpen ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\n          </button>\n          \n          {isColumnSelectorOpen && (\n            <div ref={dropdownRef} className=\"absolute top-full left-0 right-0 z-50 mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-[480px] overflow-y-auto\">\n              {/* Quick Actions */}\n              <div className=\"p-3 border-b border-gray-200 dark:border-gray-600 sticky top-0 bg-white dark:bg-gray-700 z-10\">\n                <div className=\"flex space-x-2 mb-2\">\n                  <button\n                    onClick={handleSelectAll}\n                    className=\"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-800\"\n                  >\n                    Select All\n                  </button>\n                  <button\n                    onClick={handleSelectNone}\n                    className=\"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-500\"\n                  >\n                    Select None\n                  </button>\n                  <button\n                    onClick={handleResetToDefaults}\n                    className=\"px-2 py-1 text-xs bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded hover:bg-green-200 dark:hover:bg-green-800\"\n                  >\n                    Reset to Defaults\n                  </button>\n                </div>\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  ðŸ’¡ Tip: Drag column headers in the table or use arrows below to reorder\n                </div>\n              </div>\n              \n              {/* Column Checkboxes with Reorder Controls */}\n              <div className=\"p-3 space-y-2\">\n                {orderedColumns.map((column, index) => {\n                  const canMoveUp = index > 1; // Skip name column (index 0) and first moveable column\n                  const canMoveDown = index < orderedColumns.length - 1;\n                  \n                  return (\n                    <div key={column.key} className=\"flex items-center group\">\n                      <input\n                        type=\"checkbox\"\n                        checked={columnVisibility[column.key] || false}\n                        onChange={() => handleColumnToggle(column.key)}\n                        disabled={column.alwaysVisible}\n                        className=\"mr-3 h-4 w-4 text-blue-600 rounded border-gray-300 dark:border-gray-500 focus:ring-blue-500\"\n                      />\n                      <span className={`flex-1 text-sm ${\n                        column.alwaysVisible \n                          ? 'text-gray-500 dark:text-gray-400' \n                          : 'text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-gray-100'\n                      }`}>\n                        {column.label}\n                        {column.alwaysVisible && <span className=\"ml-1 text-xs\">(always visible)</span>}\n                      </span>\n                      \n                      {/* Reorder Controls - only for non-alwaysVisible columns */}\n                      {!column.alwaysVisible && (\n                        <div className=\"flex items-center space-x-1 ml-2\">\n                          <button\n                            onClick={() => moveColumn(column.key, 'up')}\n                            disabled={!canMoveUp}\n                            className={`p-1 rounded ${canMoveUp \n                              ? 'text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-200 dark:hover:bg-gray-500' \n                              : 'text-gray-300 dark:text-gray-600 cursor-not-allowed'}`}\n                            title=\"Move up\"\n                          >\n                            <ArrowUp size={12} />\n                          </button>\n                          <button\n                            onClick={() => moveColumn(column.key, 'down')}\n                            disabled={!canMoveDown}\n                            className={`p-1 rounded ${canMoveDown \n                              ? 'text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-200 dark:hover:bg-gray-500' \n                              : 'text-gray-300 dark:text-gray-600 cursor-not-allowed'}`}\n                            title=\"Move down\"\n                          >\n                            <ArrowDown size={12} />\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Refresh Button */}\n        <div className=\"space-y-2\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            Action\n          </label>\n          <button\n            onClick={handleRefresh}\n            disabled={isLoading || !selectedConfig}\n            className={`w-full flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium\n                       ${(isLoading || !selectedConfig)\n                         ? 'bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed'\n                         : 'bg-blue-600 hover:bg-blue-700 text-white'\n                       } transition-colors duration-200`}\n          >\n            <RefreshCw size={16} className={`mr-2 ${isLoading ? 'animate-spin' : ''}`} />\n            {isLoading ? 'Refreshing...' : !selectedConfig ? 'Select Configuration' : 'Refresh Data'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport { DashboardControls, AVAILABLE_COLUMNS }; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}