{"ast":null,"code":"import _objectSpread from\"/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import PipelineStageViewer from'../cohort-pipeline/components/PipelineStageViewer';import ProductFilterConfig from'../cohort-pipeline/components/ProductFilterConfig';import CohortFilteringStats from'../cohort-pipeline/components/CohortFilteringStats';import LifecycleRatesTable from'../cohort-pipeline/components/LifecycleRatesTable';import ARPUDisplay from'../cohort-pipeline/components/ARPUDisplay';import EventTimelineTable from'../cohort-pipeline/components/EventTimelineTable';import RevenueCharts from'../cohort-pipeline/components/RevenueCharts';import UserTimelineViewer from'../cohort-pipeline/components/UserTimelineViewer';import DebugDataViewer from'../cohort-pipeline/components/DebugDataViewer';import{usePipelineData}from'../cohort-pipeline/hooks/usePipelineData';import{useDebugMode}from'../cohort-pipeline/hooks/useDebugMode';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CohortPipelineDebugPage=()=>{// Local storage key for saving state\nconst STORAGE_KEY='cohort_pipeline_analysis_params';// Default analysis parameters\nconst defaultAnalysisParams={date_from:'2025-01-01',date_to:'2025-01-31',optional_filters:[],// New unified filter system\n// Keep legacy fields for backward compatibility\nprimary_user_filter:{property_name:'',// Empty means no primary filter - all users in time frame are acceptable\nproperty_values:[]// Empty array means no filtering by user properties\n},secondary_filters:[],config:{product_filter:{include_patterns:['gluten'],// Default to gluten products\nexclude_patterns:[],// No exclusions by default\nspecific_product_ids:['prod_R7oYuL3bSUecnr']// Specific product ID\n},lifecycle:{trial_window_days:7,cancellation_window_days:30,smoothing_enabled:true},timeline:{include_estimates:true,include_confidence_intervals:false},detailed_events:{user_id:''// For looking at specific user events\n}}};// Function to load saved parameters from localStorage\nconst loadSavedParams=()=>{try{const saved=localStorage.getItem(STORAGE_KEY);if(saved){var _parsedParams$config,_parsedParams$config2,_parsedParams$config3,_parsedParams$config4;const parsedParams=JSON.parse(saved);// Merge with defaults to ensure all required fields exist\nreturn _objectSpread(_objectSpread(_objectSpread({},defaultAnalysisParams),parsedParams),{},{optional_filters:parsedParams.optional_filters||[],// Ensure optional_filters exists\nsecondary_filters:parsedParams.secondary_filters||[],config:_objectSpread(_objectSpread(_objectSpread({},defaultAnalysisParams.config),parsedParams.config),{},{product_filter:_objectSpread(_objectSpread({},defaultAnalysisParams.config.product_filter),(_parsedParams$config=parsedParams.config)===null||_parsedParams$config===void 0?void 0:_parsedParams$config.product_filter),lifecycle:_objectSpread(_objectSpread({},defaultAnalysisParams.config.lifecycle),(_parsedParams$config2=parsedParams.config)===null||_parsedParams$config2===void 0?void 0:_parsedParams$config2.lifecycle),timeline:_objectSpread(_objectSpread({},defaultAnalysisParams.config.timeline),(_parsedParams$config3=parsedParams.config)===null||_parsedParams$config3===void 0?void 0:_parsedParams$config3.timeline),detailed_events:_objectSpread(_objectSpread({},defaultAnalysisParams.config.detailed_events),(_parsedParams$config4=parsedParams.config)===null||_parsedParams$config4===void 0?void 0:_parsedParams$config4.detailed_events)})});}}catch(error){console.warn('Failed to load saved analysis parameters:',error);}return defaultAnalysisParams;};// Function to save parameters to localStorage\nconst saveParams=params=>{try{localStorage.setItem(STORAGE_KEY,JSON.stringify(params));}catch(error){console.warn('Failed to save analysis parameters:',error);}};// State for analysis parameters - initialize with saved values\nconst[analysisParams,setAnalysisParams]=useState(loadSavedParams);const[saveIndicator,setSaveIndicator]=useState(false);const[showSavedData,setShowSavedData]=useState(false);// Save parameters whenever they change\nuseEffect(()=>{saveParams(analysisParams);// Show save indicator briefly\nsetSaveIndicator(true);const timer=setTimeout(()=>setSaveIndicator(false),1000);return()=>clearTimeout(timer);},[analysisParams]);// Custom hooks for data management\nconst{pipelineData,loading,error,runAnalysis,runStageAnalysis}=usePipelineData();const{debugMode,debugStage,setDebugMode,setDebugStage}=useDebugMode();const handleParameterChange=newParams=>{setAnalysisParams(newParams);};const handleRunAnalysis=()=>{if(debugMode&&debugStage){runStageAnalysis(analysisParams,debugStage);}else{runAnalysis(analysisParams);}};// Function to reset to defaults\nconst handleResetToDefaults=()=>{setAnalysisParams(defaultAnalysisParams);localStorage.removeItem(STORAGE_KEY);};// Function to clear all saved data\nconst handleClearAllSavedData=()=>{if(window.confirm('Are you sure you want to clear all saved settings and debug state? This cannot be undone.')){localStorage.removeItem(STORAGE_KEY);localStorage.removeItem('cohort_pipeline_debug_mode');setAnalysisParams(defaultAnalysisParams);// Reset debug mode as well\nsetDebugMode(false);setDebugStage(null);}};// Function to export current settings\nconst handleExportSettings=()=>{const exportData={analysisParams,debugState:{debugMode,debugStage},exportedAt:new Date().toISOString(),version:'1.0'};const dataStr=JSON.stringify(exportData,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const url=URL.createObjectURL(dataBlob);const link=document.createElement('a');link.href=url;link.download=\"cohort_analysis_settings_\".concat(new Date().toISOString().split('T')[0],\".json\");document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);};// Function to import settings\nconst handleImportSettings=event=>{const file=event.target.files[0];if(file){const reader=new FileReader();reader.onload=e=>{try{const importedData=JSON.parse(e.target.result);// Handle both old format (just params) and new format (with debug state)\nif(importedData.analysisParams){// New format\nconst mergedParams=_objectSpread(_objectSpread(_objectSpread({},defaultAnalysisParams),importedData.analysisParams),{},{secondary_filters:importedData.analysisParams.secondary_filters||[],config:_objectSpread(_objectSpread({},defaultAnalysisParams.config),importedData.analysisParams.config)});setAnalysisParams(mergedParams);// Import debug state if available\nif(importedData.debugState){setDebugMode(importedData.debugState.debugMode||false);setDebugStage(importedData.debugState.debugStage||null);}}else{// Old format - just analysis params\nconst mergedParams=_objectSpread(_objectSpread(_objectSpread({},defaultAnalysisParams),importedData),{},{secondary_filters:importedData.secondary_filters||[],config:_objectSpread(_objectSpread({},defaultAnalysisParams.config),importedData.config)});setAnalysisParams(mergedParams);}alert('Settings imported successfully!');}catch(error){alert('Failed to import settings: Invalid JSON file');}};reader.readAsText(file);}// Reset the input\nevent.target.value='';};return/*#__PURE__*/_jsx(\"div\",{className:\"cohort-pipeline-page min-h-screen bg-gray-50 dark:bg-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mb-2\",children:\"Cohort Pipeline Debug & Analysis\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Advanced cohort analysis with modular pipeline architecture and debug capabilities\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[saveIndicator&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 text-green-600 dark:text-green-400 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCBE\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Saved\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleResetToDefaults,className:\"px-3 py-2 text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors\",title:\"Reset all settings to defaults\",children:\"Reset to Defaults\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClearAllSavedData,className:\"px-3 py-2 text-sm bg-red-200 hover:bg-red-300 dark:bg-red-700 dark:hover:bg-red-600 text-red-700 dark:text-red-300 rounded-lg transition-colors\",title:\"Clear all saved data including debug state\",children:\"Clear All Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportSettings,className:\"px-3 py-2 text-sm bg-blue-200 hover:bg-blue-300 dark:bg-blue-700 dark:hover:bg-blue-600 text-blue-700 dark:text-blue-300 rounded-lg transition-colors\",title:\"Export current settings to JSON file\",children:\"Export Settings\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"px-3 py-2 text-sm bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 text-green-700 dark:text-green-300 rounded-lg transition-colors cursor-pointer\",children:[\"Import Settings\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".json\",onChange:handleImportSettings,className:\"hidden\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"\\uD83D\\uDCBE Settings are automatically saved and will persist across page reloads\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowSavedData(!showSavedData),className:\"text-xs text-blue-600 dark:text-blue-400 hover:underline\",children:[showSavedData?'Hide':'Show',\" saved data\"]})]}),showSavedData&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 bg-gray-100 dark:bg-gray-800 rounded-lg p-4 border\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 dark:text-white mb-2\",children:\"Currently Saved Data\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700 dark:text-gray-300\",children:\"Analysis Parameters:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 bg-white dark:bg-gray-900 rounded p-2 overflow-auto max-h-32\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"text-gray-600 dark:text-gray-400\",children:JSON.stringify(analysisParams,null,2)})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700 dark:text-gray-300\",children:\"Debug State:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 bg-white dark:bg-gray-900 rounded p-2\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"text-gray-600 dark:text-gray-400\",children:JSON.stringify({debugMode,debugStage,lastSaved:new Date().toLocaleString()},null,2)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500 dark:text-gray-400\",children:[\"Storage keys: \",/*#__PURE__*/_jsx(\"code\",{children:\"cohort_pipeline_analysis_params\"}),\", \",/*#__PURE__*/_jsx(\"code\",{children:\"cohort_pipeline_debug_mode\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(PipelineStageViewer,{debugMode:debugMode,debugStage:debugStage,onDebugModeChange:setDebugMode,onDebugStageChange:setDebugStage,onRunAnalysis:handleRunAnalysis,loading:loading,error:error})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(ProductFilterConfig,{config:analysisParams.config,analysisParams:analysisParams,onConfigChange:handleParameterChange})}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 text-lg text-gray-600 dark:text-gray-400\",children:\"Running analysis...\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-800 dark:text-red-200 mb-2\",children:\"Analysis Error\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 dark:text-red-300\",children:error})]}),pipelineData&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsx(CohortFilteringStats,{data:pipelineData}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"ARPU Analysis\"}),/*#__PURE__*/_jsx(ARPUDisplay,{data:pipelineData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Lifecycle Rates\"}),/*#__PURE__*/_jsx(LifecycleRatesTable,{data:pipelineData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Event Timeline\"}),/*#__PURE__*/_jsx(EventTimelineTable,{data:pipelineData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Individual User Timeline\"}),/*#__PURE__*/_jsx(UserTimelineViewer,{data:pipelineData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Revenue Visualizations\"}),/*#__PURE__*/_jsx(RevenueCharts,{data:pipelineData})]}),debugMode&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Debug Data\"}),/*#__PURE__*/_jsx(DebugDataViewer,{data:pipelineData,debugStage:debugStage})]})]})]})});};export default CohortPipelineDebugPage;","map":{"version":3,"names":["React","useState","useEffect","PipelineStageViewer","ProductFilterConfig","CohortFilteringStats","LifecycleRatesTable","ARPUDisplay","EventTimelineTable","RevenueCharts","UserTimelineViewer","DebugDataViewer","usePipelineData","useDebugMode","jsx","_jsx","jsxs","_jsxs","CohortPipelineDebugPage","STORAGE_KEY","defaultAnalysisParams","date_from","date_to","optional_filters","primary_user_filter","property_name","property_values","secondary_filters","config","product_filter","include_patterns","exclude_patterns","specific_product_ids","lifecycle","trial_window_days","cancellation_window_days","smoothing_enabled","timeline","include_estimates","include_confidence_intervals","detailed_events","user_id","loadSavedParams","saved","localStorage","getItem","_parsedParams$config","_parsedParams$config2","_parsedParams$config3","_parsedParams$config4","parsedParams","JSON","parse","_objectSpread","error","console","warn","saveParams","params","setItem","stringify","analysisParams","setAnalysisParams","saveIndicator","setSaveIndicator","showSavedData","setShowSavedData","timer","setTimeout","clearTimeout","pipelineData","loading","runAnalysis","runStageAnalysis","debugMode","debugStage","setDebugMode","setDebugStage","handleParameterChange","newParams","handleRunAnalysis","handleResetToDefaults","removeItem","handleClearAllSavedData","window","confirm","handleExportSettings","exportData","debugState","exportedAt","Date","toISOString","version","dataStr","dataBlob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","concat","split","body","appendChild","click","removeChild","revokeObjectURL","handleImportSettings","event","file","target","files","reader","FileReader","onload","e","importedData","result","mergedParams","alert","readAsText","value","className","children","onClick","title","accept","onChange","lastSaved","toLocaleString","onDebugModeChange","onDebugStageChange","onRunAnalysis","onConfigChange","data"],"sources":["/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/pages/CohortPipelineDebugPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PipelineStageViewer from '../cohort-pipeline/components/PipelineStageViewer';\nimport ProductFilterConfig from '../cohort-pipeline/components/ProductFilterConfig';\nimport CohortFilteringStats from '../cohort-pipeline/components/CohortFilteringStats';\nimport LifecycleRatesTable from '../cohort-pipeline/components/LifecycleRatesTable';\nimport ARPUDisplay from '../cohort-pipeline/components/ARPUDisplay';\nimport EventTimelineTable from '../cohort-pipeline/components/EventTimelineTable';\nimport RevenueCharts from '../cohort-pipeline/components/RevenueCharts';\nimport UserTimelineViewer from '../cohort-pipeline/components/UserTimelineViewer';\nimport DebugDataViewer from '../cohort-pipeline/components/DebugDataViewer';\nimport { usePipelineData } from '../cohort-pipeline/hooks/usePipelineData';\nimport { useDebugMode } from '../cohort-pipeline/hooks/useDebugMode';\n\nconst CohortPipelineDebugPage = () => {\n    // Local storage key for saving state\n    const STORAGE_KEY = 'cohort_pipeline_analysis_params';\n    \n    // Default analysis parameters\n    const defaultAnalysisParams = {\n        date_from: '2025-01-01',\n        date_to: '2025-01-31',\n        optional_filters: [], // New unified filter system\n        // Keep legacy fields for backward compatibility\n        primary_user_filter: {\n            property_name: '',  // Empty means no primary filter - all users in time frame are acceptable\n            property_values: []  // Empty array means no filtering by user properties\n        },\n        secondary_filters: [],\n        config: {\n            product_filter: {\n                include_patterns: ['gluten'],  // Default to gluten products\n                exclude_patterns: [],  // No exclusions by default\n                specific_product_ids: ['prod_R7oYuL3bSUecnr']  // Specific product ID\n            },\n            lifecycle: {\n                trial_window_days: 7,\n                cancellation_window_days: 30,\n                smoothing_enabled: true\n            },\n            timeline: {\n                include_estimates: true,\n                include_confidence_intervals: false\n            },\n            detailed_events: {\n                user_id: ''  // For looking at specific user events\n            }\n        }\n    };\n\n    // Function to load saved parameters from localStorage\n    const loadSavedParams = () => {\n        try {\n            const saved = localStorage.getItem(STORAGE_KEY);\n            if (saved) {\n                const parsedParams = JSON.parse(saved);\n                // Merge with defaults to ensure all required fields exist\n                return {\n                    ...defaultAnalysisParams,\n                    ...parsedParams,\n                    optional_filters: parsedParams.optional_filters || [], // Ensure optional_filters exists\n                    secondary_filters: parsedParams.secondary_filters || [],\n                    config: {\n                        ...defaultAnalysisParams.config,\n                        ...parsedParams.config,\n                        product_filter: {\n                            ...defaultAnalysisParams.config.product_filter,\n                            ...parsedParams.config?.product_filter\n                        },\n                        lifecycle: {\n                            ...defaultAnalysisParams.config.lifecycle,\n                            ...parsedParams.config?.lifecycle\n                        },\n                        timeline: {\n                            ...defaultAnalysisParams.config.timeline,\n                            ...parsedParams.config?.timeline\n                        },\n                        detailed_events: {\n                            ...defaultAnalysisParams.config.detailed_events,\n                            ...parsedParams.config?.detailed_events\n                        }\n                    }\n                };\n            }\n        } catch (error) {\n            console.warn('Failed to load saved analysis parameters:', error);\n        }\n        return defaultAnalysisParams;\n    };\n\n    // Function to save parameters to localStorage\n    const saveParams = (params) => {\n        try {\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(params));\n        } catch (error) {\n            console.warn('Failed to save analysis parameters:', error);\n        }\n    };\n\n    // State for analysis parameters - initialize with saved values\n    const [analysisParams, setAnalysisParams] = useState(loadSavedParams);\n    const [saveIndicator, setSaveIndicator] = useState(false);\n    const [showSavedData, setShowSavedData] = useState(false);\n\n    // Save parameters whenever they change\n    useEffect(() => {\n        saveParams(analysisParams);\n        // Show save indicator briefly\n        setSaveIndicator(true);\n        const timer = setTimeout(() => setSaveIndicator(false), 1000);\n        return () => clearTimeout(timer);\n    }, [analysisParams]);\n\n    // Custom hooks for data management\n    const { \n        pipelineData, \n        loading, \n        error, \n        runAnalysis,\n        runStageAnalysis \n    } = usePipelineData();\n    \n    const { \n        debugMode, \n        debugStage, \n        setDebugMode, \n        setDebugStage \n    } = useDebugMode();\n\n    const handleParameterChange = (newParams) => {\n        setAnalysisParams(newParams);\n    };\n\n    const handleRunAnalysis = () => {\n        if (debugMode && debugStage) {\n            runStageAnalysis(analysisParams, debugStage);\n        } else {\n            runAnalysis(analysisParams);\n        }\n    };\n\n    // Function to reset to defaults\n    const handleResetToDefaults = () => {\n        setAnalysisParams(defaultAnalysisParams);\n        localStorage.removeItem(STORAGE_KEY);\n    };\n\n    // Function to clear all saved data\n    const handleClearAllSavedData = () => {\n        if (window.confirm('Are you sure you want to clear all saved settings and debug state? This cannot be undone.')) {\n            localStorage.removeItem(STORAGE_KEY);\n            localStorage.removeItem('cohort_pipeline_debug_mode');\n            setAnalysisParams(defaultAnalysisParams);\n            // Reset debug mode as well\n            setDebugMode(false);\n            setDebugStage(null);\n        }\n    };\n\n    // Function to export current settings\n    const handleExportSettings = () => {\n        const exportData = {\n            analysisParams,\n            debugState: {\n                debugMode,\n                debugStage\n            },\n            exportedAt: new Date().toISOString(),\n            version: '1.0'\n        };\n        \n        const dataStr = JSON.stringify(exportData, null, 2);\n        const dataBlob = new Blob([dataStr], { type: 'application/json' });\n        const url = URL.createObjectURL(dataBlob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `cohort_analysis_settings_${new Date().toISOString().split('T')[0]}.json`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n    };\n\n    // Function to import settings\n    const handleImportSettings = (event) => {\n        const file = event.target.files[0];\n        if (file) {\n            const reader = new FileReader();\n            reader.onload = (e) => {\n                try {\n                    const importedData = JSON.parse(e.target.result);\n                    \n                    // Handle both old format (just params) and new format (with debug state)\n                    if (importedData.analysisParams) {\n                        // New format\n                        const mergedParams = {\n                            ...defaultAnalysisParams,\n                            ...importedData.analysisParams,\n                            secondary_filters: importedData.analysisParams.secondary_filters || [],\n                            config: {\n                                ...defaultAnalysisParams.config,\n                                ...importedData.analysisParams.config\n                            }\n                        };\n                        setAnalysisParams(mergedParams);\n                        \n                        // Import debug state if available\n                        if (importedData.debugState) {\n                            setDebugMode(importedData.debugState.debugMode || false);\n                            setDebugStage(importedData.debugState.debugStage || null);\n                        }\n                    } else {\n                        // Old format - just analysis params\n                        const mergedParams = {\n                            ...defaultAnalysisParams,\n                            ...importedData,\n                            secondary_filters: importedData.secondary_filters || [],\n                            config: {\n                                ...defaultAnalysisParams.config,\n                                ...importedData.config\n                            }\n                        };\n                        setAnalysisParams(mergedParams);\n                    }\n                    \n                    alert('Settings imported successfully!');\n                } catch (error) {\n                    alert('Failed to import settings: Invalid JSON file');\n                }\n            };\n            reader.readAsText(file);\n        }\n        // Reset the input\n        event.target.value = '';\n    };\n\n    return (\n        <div className=\"cohort-pipeline-page min-h-screen bg-gray-50 dark:bg-gray-900\">\n            <div className=\"container mx-auto px-4 py-6\">\n                {/* Page Header */}\n                <div className=\"mb-8\">\n                    <div className=\"flex items-center justify-between\">\n                        <div>\n                            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">\n                                Cohort Pipeline Debug & Analysis\n                            </h1>\n                            <p className=\"text-gray-600 dark:text-gray-400\">\n                                Advanced cohort analysis with modular pipeline architecture and debug capabilities\n                            </p>\n                        </div>\n                        \n                        {/* Settings Management */}\n                        <div className=\"flex items-center space-x-2\">\n                            {/* Save indicator */}\n                            {saveIndicator && (\n                                <div className=\"flex items-center space-x-1 text-green-600 dark:text-green-400 text-sm\">\n                                    <span>ðŸ’¾</span>\n                                    <span>Saved</span>\n                                </div>\n                            )}\n                            \n                            <button\n                                onClick={handleResetToDefaults}\n                                className=\"px-3 py-2 text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors\"\n                                title=\"Reset all settings to defaults\"\n                            >\n                                Reset to Defaults\n                            </button>\n                            \n                            <button\n                                onClick={handleClearAllSavedData}\n                                className=\"px-3 py-2 text-sm bg-red-200 hover:bg-red-300 dark:bg-red-700 dark:hover:bg-red-600 text-red-700 dark:text-red-300 rounded-lg transition-colors\"\n                                title=\"Clear all saved data including debug state\"\n                            >\n                                Clear All Data\n                            </button>\n                            \n                            <button\n                                onClick={handleExportSettings}\n                                className=\"px-3 py-2 text-sm bg-blue-200 hover:bg-blue-300 dark:bg-blue-700 dark:hover:bg-blue-600 text-blue-700 dark:text-blue-300 rounded-lg transition-colors\"\n                                title=\"Export current settings to JSON file\"\n                            >\n                                Export Settings\n                            </button>\n                            \n                            <label className=\"px-3 py-2 text-sm bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 text-green-700 dark:text-green-300 rounded-lg transition-colors cursor-pointer\">\n                                Import Settings\n                                <input\n                                    type=\"file\"\n                                    accept=\".json\"\n                                    onChange={handleImportSettings}\n                                    className=\"hidden\"\n                                />\n                            </label>\n                        </div>\n                    </div>\n                    \n                    {/* Auto-save indicator */}\n                    <div className=\"mt-2 flex items-center justify-between\">\n                        <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                            ðŸ’¾ Settings are automatically saved and will persist across page reloads\n                        </div>\n                        \n                        <button\n                            onClick={() => setShowSavedData(!showSavedData)}\n                            className=\"text-xs text-blue-600 dark:text-blue-400 hover:underline\"\n                        >\n                            {showSavedData ? 'Hide' : 'Show'} saved data\n                        </button>\n                    </div>\n                    \n                    {/* Saved Data Viewer */}\n                    {showSavedData && (\n                        <div className=\"mt-4 bg-gray-100 dark:bg-gray-800 rounded-lg p-4 border\">\n                            <h4 className=\"text-sm font-medium text-gray-900 dark:text-white mb-2\">\n                                Currently Saved Data\n                            </h4>\n                            <div className=\"space-y-2 text-xs\">\n                                <div>\n                                    <span className=\"font-medium text-gray-700 dark:text-gray-300\">Analysis Parameters:</span>\n                                    <div className=\"mt-1 bg-white dark:bg-gray-900 rounded p-2 overflow-auto max-h-32\">\n                                        <pre className=\"text-gray-600 dark:text-gray-400\">\n                                            {JSON.stringify(analysisParams, null, 2)}\n                                        </pre>\n                                    </div>\n                                </div>\n                                <div>\n                                    <span className=\"font-medium text-gray-700 dark:text-gray-300\">Debug State:</span>\n                                    <div className=\"mt-1 bg-white dark:bg-gray-900 rounded p-2\">\n                                        <pre className=\"text-gray-600 dark:text-gray-400\">\n                                            {JSON.stringify({\n                                                debugMode,\n                                                debugStage,\n                                                lastSaved: new Date().toLocaleString()\n                                            }, null, 2)}\n                                        </pre>\n                                    </div>\n                                </div>\n                                <div className=\"text-gray-500 dark:text-gray-400\">\n                                    Storage keys: <code>cohort_pipeline_analysis_params</code>, <code>cohort_pipeline_debug_mode</code>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Debug Controls Section */}\n                <div className=\"mb-8\">\n                    <PipelineStageViewer\n                        debugMode={debugMode}\n                        debugStage={debugStage}\n                        onDebugModeChange={setDebugMode}\n                        onDebugStageChange={setDebugStage}\n                        onRunAnalysis={handleRunAnalysis}\n                        loading={loading}\n                        error={error}\n                    />\n                </div>\n\n                {/* Configuration Section */}\n                <div className=\"mb-8\">\n                    <ProductFilterConfig\n                        config={analysisParams.config}\n                        analysisParams={analysisParams}\n                        onConfigChange={handleParameterChange}\n                    />\n                </div>\n\n                {/* Loading State */}\n                {loading && (\n                    <div className=\"flex justify-center items-center py-12\">\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n                        <span className=\"ml-3 text-lg text-gray-600 dark:text-gray-400\">\n                            Running analysis...\n                        </span>\n                    </div>\n                )}\n\n                {/* Error State */}\n                {error && (\n                    <div className=\"mb-8 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\n                        <h3 className=\"text-lg font-semibold text-red-800 dark:text-red-200 mb-2\">\n                            Analysis Error\n                        </h3>\n                        <p className=\"text-red-600 dark:text-red-300\">{error}</p>\n                    </div>\n                )}\n\n                {/* Results Sections - All on one page */}\n                {pipelineData && !loading && (\n                    <div className=\"space-y-8\">\n                        {/* Cohort Filtering Statistics Section - NEW */}\n                        <CohortFilteringStats data={pipelineData} />\n\n                        {/* ARPU Section */}\n                        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\n                            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\n                                ARPU Analysis\n                            </h2>\n                            <ARPUDisplay data={pipelineData} />\n                        </div>\n\n                        {/* Lifecycle Rates Section */}\n                        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\n                            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\n                                Lifecycle Rates\n                            </h2>\n                            <LifecycleRatesTable data={pipelineData} />\n                        </div>\n\n                        {/* Event Timeline Section */}\n                        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\n                            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\n                                Event Timeline\n                            </h2>\n                            <EventTimelineTable data={pipelineData} />\n                        </div>\n\n                        {/* User Timeline Section */}\n                        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\n                            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\n                                Individual User Timeline\n                            </h2>\n                            <UserTimelineViewer data={pipelineData} />\n                        </div>\n\n                        {/* Revenue Charts Section */}\n                        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\n                            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\n                                Revenue Visualizations\n                            </h2>\n                            <RevenueCharts data={pipelineData} />\n                        </div>\n\n                        {/* Debug Data Section */}\n                        {debugMode && (\n                            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\n                                <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\n                                    Debug Data\n                                </h2>\n                                <DebugDataViewer \n                                    data={pipelineData} \n                                    debugStage={debugStage}\n                                />\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default CohortPipelineDebugPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}