{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserTimelineViewer=_ref=>{var _data$data,_data$data2,_data$data3,_data$data4,_data$data4$structure,_data$data5,_data$data6,_data$data7,_data$data7$structure,_data$data$structured;let{data}=_ref;const[selectedUser,setSelectedUser]=useState('');const[eventFilter,setEventFilter]=useState('all');const[expandedEvents,setExpandedEvents]=useState(new Set());// Debug logging\nconsole.log('[DEBUG] UserTimelineViewer received data:',data);console.log('[DEBUG] Data structure check:',{hasData:!!data,hasDataData:!!(data!==null&&data!==void 0&&data.data),hasUserTimelines:!!(data!==null&&data!==void 0&&(_data$data=data.data)!==null&&_data$data!==void 0&&_data$data.user_timelines),hasTimelineData:!!(data!==null&&data!==void 0&&(_data$data2=data.data)!==null&&_data$data2!==void 0&&_data$data2.timeline_data),hasStructuredFormat:!!(data!==null&&data!==void 0&&(_data$data3=data.data)!==null&&_data$data3!==void 0&&_data$data3.structured_format),hasTimelineAnalysis:!!(data!==null&&data!==void 0&&(_data$data4=data.data)!==null&&_data$data4!==void 0&&(_data$data4$structure=_data$data4.structured_format)!==null&&_data$data4$structure!==void 0&&_data$data4$structure.timeline_analysis),dataKeys:data?Object.keys(data):[],dataDataKeys:data!==null&&data!==void 0&&data.data?Object.keys(data.data):[]});if(!(data!==null&&data!==void 0&&(_data$data5=data.data)!==null&&_data$data5!==void 0&&_data$data5.user_timelines)&&!(data!==null&&data!==void 0&&(_data$data6=data.data)!==null&&_data$data6!==void 0&&_data$data6.timeline_data)&&!(data!==null&&data!==void 0&&(_data$data7=data.data)!==null&&_data$data7!==void 0&&(_data$data7$structure=_data$data7.structured_format)!==null&&_data$data7$structure!==void 0&&_data$data7$structure.timeline_analysis)&&!(data!==null&&data!==void 0&&data.data)){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No timeline data available. Run an analysis to see results.\"})});}// Handle multiple data formats: unified pipeline, legacy API, and direct timeline API\nlet timelineData;let userTimelines={};if((_data$data$structured=data.data.structured_format)!==null&&_data$data$structured!==void 0&&_data$data$structured.timeline_analysis){// Unified pipeline format: timeline data is in structured_format.timeline_analysis\ntimelineData=data.data.structured_format.timeline_analysis;userTimelines=timelineData.user_timelines||{};console.log('[DEBUG] Using unified pipeline format. Timeline data:',timelineData);console.log('[DEBUG] User timelines keys:',Object.keys(userTimelines));console.log('[DEBUG] Sample user timeline:',Object.keys(userTimelines).slice(0,1).map(userId=>({userId,data:userTimelines[userId]})));}else if(data.data.timeline_data&&data.data.timeline_data.user_timelines){// Direct timeline API format: timeline_data contains the TimelineData structure\ntimelineData=data.data.timeline_data;userTimelines=timelineData.user_timelines||{};}else if(data.data.user_timelines&&typeof data.data.user_timelines==='object'&&data.data.user_timelines.users){// Legacy format: user_timelines contains the entire legacy result\ntimelineData=data.data.user_timelines;// Convert legacy format to expected structure\nif(timelineData.users&&timelineData.events){timelineData.users.forEach(user=>{userTimelines[user.id]={events:Object.values(timelineData.events[user.user_product_key]||{}).flat()||[]};});}}else if(data.data.user_timelines){// New format: user_timelines is a direct mapping\ntimelineData=data.data;userTimelines=data.data.user_timelines||{};}else{// Fallback: no valid data\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No timeline data available. Run an analysis to see results.\"})});}const userIds=Object.keys(userTimelines);// Get events for selected user\nconst selectedUserEvents=selectedUser&&userTimelines[selectedUser]?userTimelines[selectedUser].events||[]:[];// Filter events based on event filter\nconst filteredEvents=selectedUserEvents.filter(event=>{var _event$event_name,_event$event_name2;if(eventFilter==='all')return true;if(eventFilter==='trial')return(_event$event_name=event.event_name)===null||_event$event_name===void 0?void 0:_event$event_name.toLowerCase().includes('trial');if(eventFilter==='purchase')return(_event$event_name2=event.event_name)===null||_event$event_name2===void 0?void 0:_event$event_name2.toLowerCase().includes('purchase');if(eventFilter==='revenue')return event.revenue&&event.revenue>0;return true;});const formatCurrency=value=>{if(value===null||value===undefined)return'$0.00';return\"$\".concat(Number(value).toFixed(2));};const formatDateTime=timestamp=>{return new Date(timestamp).toLocaleString();};const toggleEventExpansion=eventIndex=>{const newExpanded=new Set(expandedEvents);if(newExpanded.has(eventIndex)){newExpanded.delete(eventIndex);}else{newExpanded.add(eventIndex);}setExpandedEvents(newExpanded);};const getEventTypeColor=eventName=>{const name=(eventName===null||eventName===void 0?void 0:eventName.toLowerCase())||'';if(name.includes('trial'))return'blue';if(name.includes('purchase'))return'green';if(name.includes('revenue'))return'purple';return'gray';};const getEventTypeIcon=eventName=>{const name=(eventName===null||eventName===void 0?void 0:eventName.toLowerCase())||'';if(name.includes('trial'))return'ðŸ”„';if(name.includes('purchase'))return'ðŸ’°';if(name.includes('revenue'))return'ðŸ’µ';return'ðŸ“Š';};// Calculate user summary stats\nconst userSummary=selectedUser&&userTimelines[selectedUser]?{totalEvents:selectedUserEvents.length,totalRevenue:selectedUserEvents.reduce((sum,event)=>sum+(event.revenue||0),0),trialEvents:selectedUserEvents.filter(e=>{var _e$event_name;return(_e$event_name=e.event_name)===null||_e$event_name===void 0?void 0:_e$event_name.toLowerCase().includes('trial');}).length,purchaseEvents:selectedUserEvents.filter(e=>{var _e$event_name2;return(_e$event_name2=e.event_name)===null||_e$event_name2===void 0?void 0:_e$event_name2.toLowerCase().includes('purchase');}).length,firstEvent:selectedUserEvents.length>0?selectedUserEvents[0].timestamp:null,lastEvent:selectedUserEvents.length>0?selectedUserEvents[selectedUserEvents.length-1].timestamp:null}:null;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Select User\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedUser,onChange:e=>setSelectedUser(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose a user...\"}),userIds.slice(0,100).map(userId=>/*#__PURE__*/_jsx(\"option\",{value:userId,children:userId.length>30?userId.substring(0,30)+'...':userId},userId))]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:[\"Showing first 100 users (\",userIds.length,\" total)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",children:\"Event Filter\"}),/*#__PURE__*/_jsxs(\"select\",{value:eventFilter,onChange:e=>setEventFilter(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Events\"}),/*#__PURE__*/_jsx(\"option\",{value:\"trial\",children:\"Trial Events\"}),/*#__PURE__*/_jsx(\"option\",{value:\"purchase\",children:\"Purchase Events\"}),/*#__PURE__*/_jsx(\"option\",{value:\"revenue\",children:\"Revenue Events\"})]})]})]}),userSummary&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-6 border border-indigo-200 dark:border-indigo-800\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-indigo-900 dark:text-indigo-200 mb-4\",children:[\"User Summary: \",selectedUser]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-indigo-600 dark:text-indigo-400\",children:userSummary.totalEvents}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-indigo-700 dark:text-indigo-300\",children:\"Total Events\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600 dark:text-green-400\",children:formatCurrency(userSummary.totalRevenue)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-700 dark:text-green-300\",children:\"Total Revenue\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600 dark:text-blue-400\",children:userSummary.trialEvents}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-700 dark:text-blue-300\",children:\"Trial Events\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-600 dark:text-purple-400\",children:userSummary.purchaseEvents}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-purple-700 dark:text-purple-300\",children:\"Purchase Events\"})]})]}),userSummary.firstEvent&&userSummary.lastEvent&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 pt-4 border-t border-indigo-200 dark:border-indigo-700 text-sm text-indigo-700 dark:text-indigo-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Activity Period:\"}),\" \",formatDateTime(userSummary.firstEvent),\" \\u2192 \",formatDateTime(userSummary.lastEvent)]})]}),selectedUser&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 dark:text-white\",children:\"Event Timeline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:[\"Showing \",filteredEvents.length,\" of \",selectedUserEvents.length,\" events\"]})]}),filteredEvents.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:filteredEvents.map((event,index)=>{const isExpanded=expandedEvents.has(index);const eventColor=getEventTypeColor(event.event_name);const eventIcon=getEventTypeIcon(event.event_name);const colorClasses={blue:'border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20',green:'border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20',purple:'border-purple-200 bg-purple-50 dark:border-purple-800 dark:bg-purple-900/20',gray:'border-gray-200 bg-gray-50 dark:border-gray-600 dark:bg-gray-700'};return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 \".concat(colorClasses[eventColor],\" transition-all duration-200\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between cursor-pointer\",onClick:()=>toggleEventExpansion(index),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:eventIcon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900 dark:text-white\",children:event.event_name||'Unknown Event'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:formatDateTime(event.timestamp)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[event.revenue&&event.revenue>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-green-600 dark:text-green-400\",children:formatCurrency(event.revenue)}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\",children:isExpanded?'â–¼':'â–¶'})]})]}),isExpanded&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\",children:[event.product_id&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700 dark:text-gray-300\",children:\"Product ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-600 dark:text-gray-400\",children:event.product_id})]}),event.revenue&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700 dark:text-gray-300\",children:\"Revenue:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-green-600 dark:text-green-400\",children:formatCurrency(event.revenue)})]}),event.properties&&Object.keys(event.properties).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700 dark:text-gray-300\",children:\"Properties:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 bg-gray-100 dark:bg-gray-800 rounded p-2 text-xs\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap\",children:JSON.stringify(event.properties,null,2)})})]})]})})]},index);})}):selectedUser?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No events found for the selected filter.\"})}):null]}),!selectedUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-2\",children:\"Select a User\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"Choose a user from the dropdown above to view their detailed event timeline.\"})]})]});};export default UserTimelineViewer;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","UserTimelineViewer","_ref","_data$data","_data$data2","_data$data3","_data$data4","_data$data4$structure","_data$data5","_data$data6","_data$data7","_data$data7$structure","_data$data$structured","data","selectedUser","setSelectedUser","eventFilter","setEventFilter","expandedEvents","setExpandedEvents","Set","console","log","hasData","hasDataData","hasUserTimelines","user_timelines","hasTimelineData","timeline_data","hasStructuredFormat","structured_format","hasTimelineAnalysis","timeline_analysis","dataKeys","Object","keys","dataDataKeys","className","children","timelineData","userTimelines","slice","map","userId","users","events","forEach","user","id","values","user_product_key","flat","userIds","selectedUserEvents","filteredEvents","filter","event","_event$event_name","_event$event_name2","event_name","toLowerCase","includes","revenue","formatCurrency","value","undefined","concat","Number","toFixed","formatDateTime","timestamp","Date","toLocaleString","toggleEventExpansion","eventIndex","newExpanded","has","delete","add","getEventTypeColor","eventName","name","getEventTypeIcon","userSummary","totalEvents","length","totalRevenue","reduce","sum","trialEvents","e","_e$event_name","purchaseEvents","_e$event_name2","firstEvent","lastEvent","onChange","target","substring","index","isExpanded","eventColor","eventIcon","colorClasses","blue","green","purple","gray","onClick","product_id","properties","JSON","stringify"],"sources":["/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/cohort-pipeline/components/UserTimelineViewer.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst UserTimelineViewer = ({ data }) => {\n    const [selectedUser, setSelectedUser] = useState('');\n    const [eventFilter, setEventFilter] = useState('all');\n    const [expandedEvents, setExpandedEvents] = useState(new Set());\n\n    // Debug logging\n    console.log('[DEBUG] UserTimelineViewer received data:', data);\n    console.log('[DEBUG] Data structure check:', {\n        hasData: !!data,\n        hasDataData: !!data?.data,\n        hasUserTimelines: !!data?.data?.user_timelines,\n        hasTimelineData: !!data?.data?.timeline_data,\n        hasStructuredFormat: !!data?.data?.structured_format,\n        hasTimelineAnalysis: !!data?.data?.structured_format?.timeline_analysis,\n        dataKeys: data ? Object.keys(data) : [],\n        dataDataKeys: data?.data ? Object.keys(data.data) : []\n    });\n\n    if (!data?.data?.user_timelines && !data?.data?.timeline_data && !data?.data?.structured_format?.timeline_analysis && !data?.data) {\n        return (\n            <div className=\"text-center py-8\">\n                <p className=\"text-gray-500 dark:text-gray-400\">\n                    No timeline data available. Run an analysis to see results.\n                </p>\n            </div>\n        );\n    }\n\n    // Handle multiple data formats: unified pipeline, legacy API, and direct timeline API\n    let timelineData;\n    let userTimelines = {};\n    \n    if (data.data.structured_format?.timeline_analysis) {\n        // Unified pipeline format: timeline data is in structured_format.timeline_analysis\n        timelineData = data.data.structured_format.timeline_analysis;\n        userTimelines = timelineData.user_timelines || {};\n        console.log('[DEBUG] Using unified pipeline format. Timeline data:', timelineData);\n        console.log('[DEBUG] User timelines keys:', Object.keys(userTimelines));\n        console.log('[DEBUG] Sample user timeline:', Object.keys(userTimelines).slice(0, 1).map(userId => ({\n            userId,\n            data: userTimelines[userId]\n        })));\n    } else if (data.data.timeline_data && data.data.timeline_data.user_timelines) {\n        // Direct timeline API format: timeline_data contains the TimelineData structure\n        timelineData = data.data.timeline_data;\n        userTimelines = timelineData.user_timelines || {};\n    } else if (data.data.user_timelines && typeof data.data.user_timelines === 'object' && data.data.user_timelines.users) {\n        // Legacy format: user_timelines contains the entire legacy result\n        timelineData = data.data.user_timelines;\n        // Convert legacy format to expected structure\n        if (timelineData.users && timelineData.events) {\n            timelineData.users.forEach(user => {\n                userTimelines[user.id] = {\n                    events: Object.values(timelineData.events[user.user_product_key] || {}).flat() || []\n                };\n            });\n        }\n    } else if (data.data.user_timelines) {\n        // New format: user_timelines is a direct mapping\n        timelineData = data.data;\n        userTimelines = data.data.user_timelines || {};\n    } else {\n        // Fallback: no valid data\n        return (\n            <div className=\"text-center py-8\">\n                <p className=\"text-gray-500 dark:text-gray-400\">\n                    No timeline data available. Run an analysis to see results.\n                </p>\n            </div>\n        );\n    }\n    \n    const userIds = Object.keys(userTimelines);\n\n    // Get events for selected user\n    const selectedUserEvents = selectedUser && userTimelines[selectedUser] ? \n        userTimelines[selectedUser].events || [] : [];\n\n    // Filter events based on event filter\n    const filteredEvents = selectedUserEvents.filter(event => {\n        if (eventFilter === 'all') return true;\n        if (eventFilter === 'trial') return event.event_name?.toLowerCase().includes('trial');\n        if (eventFilter === 'purchase') return event.event_name?.toLowerCase().includes('purchase');\n        if (eventFilter === 'revenue') return event.revenue && event.revenue > 0;\n        return true;\n    });\n\n    const formatCurrency = (value) => {\n        if (value === null || value === undefined) return '$0.00';\n        return `$${Number(value).toFixed(2)}`;\n    };\n\n    const formatDateTime = (timestamp) => {\n        return new Date(timestamp).toLocaleString();\n    };\n\n    const toggleEventExpansion = (eventIndex) => {\n        const newExpanded = new Set(expandedEvents);\n        if (newExpanded.has(eventIndex)) {\n            newExpanded.delete(eventIndex);\n        } else {\n            newExpanded.add(eventIndex);\n        }\n        setExpandedEvents(newExpanded);\n    };\n\n    const getEventTypeColor = (eventName) => {\n        const name = eventName?.toLowerCase() || '';\n        if (name.includes('trial')) return 'blue';\n        if (name.includes('purchase')) return 'green';\n        if (name.includes('revenue')) return 'purple';\n        return 'gray';\n    };\n\n    const getEventTypeIcon = (eventName) => {\n        const name = eventName?.toLowerCase() || '';\n        if (name.includes('trial')) return 'ðŸ”„';\n        if (name.includes('purchase')) return 'ðŸ’°';\n        if (name.includes('revenue')) return 'ðŸ’µ';\n        return 'ðŸ“Š';\n    };\n\n    // Calculate user summary stats\n    const userSummary = selectedUser && userTimelines[selectedUser] ? {\n        totalEvents: selectedUserEvents.length,\n        totalRevenue: selectedUserEvents.reduce((sum, event) => sum + (event.revenue || 0), 0),\n        trialEvents: selectedUserEvents.filter(e => e.event_name?.toLowerCase().includes('trial')).length,\n        purchaseEvents: selectedUserEvents.filter(e => e.event_name?.toLowerCase().includes('purchase')).length,\n        firstEvent: selectedUserEvents.length > 0 ? selectedUserEvents[0].timestamp : null,\n        lastEvent: selectedUserEvents.length > 0 ? selectedUserEvents[selectedUserEvents.length - 1].timestamp : null\n    } : null;\n\n    return (\n        <div className=\"space-y-6\">\n            {/* User Selection and Filters */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Select User\n                    </label>\n                    <select\n                        value={selectedUser}\n                        onChange={(e) => setSelectedUser(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                    >\n                        <option value=\"\">Choose a user...</option>\n                        {userIds.slice(0, 100).map(userId => (\n                            <option key={userId} value={userId}>\n                                {userId.length > 30 ? userId.substring(0, 30) + '...' : userId}\n                            </option>\n                        ))}\n                    </select>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                        Showing first 100 users ({userIds.length} total)\n                    </p>\n                </div>\n\n                <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Event Filter\n                    </label>\n                    <select\n                        value={eventFilter}\n                        onChange={(e) => setEventFilter(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                    >\n                        <option value=\"all\">All Events</option>\n                        <option value=\"trial\">Trial Events</option>\n                        <option value=\"purchase\">Purchase Events</option>\n                        <option value=\"revenue\">Revenue Events</option>\n                    </select>\n                </div>\n            </div>\n\n            {/* User Summary */}\n            {userSummary && (\n                <div className=\"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg p-6 border border-indigo-200 dark:border-indigo-800\">\n                    <h3 className=\"text-xl font-semibold text-indigo-900 dark:text-indigo-200 mb-4\">\n                        User Summary: {selectedUser}\n                    </h3>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                        <div className=\"text-center\">\n                            <div className=\"text-2xl font-bold text-indigo-600 dark:text-indigo-400\">\n                                {userSummary.totalEvents}\n                            </div>\n                            <div className=\"text-sm text-indigo-700 dark:text-indigo-300\">\n                                Total Events\n                            </div>\n                        </div>\n                        <div className=\"text-center\">\n                            <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\n                                {formatCurrency(userSummary.totalRevenue)}\n                            </div>\n                            <div className=\"text-sm text-green-700 dark:text-green-300\">\n                                Total Revenue\n                            </div>\n                        </div>\n                        <div className=\"text-center\">\n                            <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\n                                {userSummary.trialEvents}\n                            </div>\n                            <div className=\"text-sm text-blue-700 dark:text-blue-300\">\n                                Trial Events\n                            </div>\n                        </div>\n                        <div className=\"text-center\">\n                            <div className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">\n                                {userSummary.purchaseEvents}\n                            </div>\n                            <div className=\"text-sm text-purple-700 dark:text-purple-300\">\n                                Purchase Events\n                            </div>\n                        </div>\n                    </div>\n                    {userSummary.firstEvent && userSummary.lastEvent && (\n                        <div className=\"mt-4 pt-4 border-t border-indigo-200 dark:border-indigo-700 text-sm text-indigo-700 dark:text-indigo-300\">\n                            <strong>Activity Period:</strong> {formatDateTime(userSummary.firstEvent)} â†’ {formatDateTime(userSummary.lastEvent)}\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {/* Event Timeline */}\n            {selectedUser && (\n                <div>\n                    <div className=\"flex justify-between items-center mb-4\">\n                        <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n                            Event Timeline\n                        </h3>\n                        <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n                            Showing {filteredEvents.length} of {selectedUserEvents.length} events\n                        </div>\n                    </div>\n\n                    {filteredEvents.length > 0 ? (\n                        <div className=\"space-y-3\">\n                            {filteredEvents.map((event, index) => {\n                                const isExpanded = expandedEvents.has(index);\n                                const eventColor = getEventTypeColor(event.event_name);\n                                const eventIcon = getEventTypeIcon(event.event_name);\n\n                                const colorClasses = {\n                                    blue: 'border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20',\n                                    green: 'border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20',\n                                    purple: 'border-purple-200 bg-purple-50 dark:border-purple-800 dark:bg-purple-900/20',\n                                    gray: 'border-gray-200 bg-gray-50 dark:border-gray-600 dark:bg-gray-700'\n                                };\n\n                                return (\n                                    <div\n                                        key={index}\n                                        className={`border rounded-lg p-4 ${colorClasses[eventColor]} transition-all duration-200`}\n                                    >\n                                        <div \n                                            className=\"flex items-center justify-between cursor-pointer\"\n                                            onClick={() => toggleEventExpansion(index)}\n                                        >\n                                            <div className=\"flex items-center space-x-3\">\n                                                <span className=\"text-lg\">{eventIcon}</span>\n                                                <div>\n                                                    <div className=\"font-medium text-gray-900 dark:text-white\">\n                                                        {event.event_name || 'Unknown Event'}\n                                                    </div>\n                                                    <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n                                                        {formatDateTime(event.timestamp)}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"flex items-center space-x-3\">\n                                                {event.revenue && event.revenue > 0 && (\n                                                    <span className=\"text-sm font-semibold text-green-600 dark:text-green-400\">\n                                                        {formatCurrency(event.revenue)}\n                                                    </span>\n                                                )}\n                                                <button className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\">\n                                                    {isExpanded ? 'â–¼' : 'â–¶'}\n                                                </button>\n                                            </div>\n                                        </div>\n\n                                        {isExpanded && (\n                                            <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600\">\n                                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                                                    {event.product_id && (\n                                                        <div>\n                                                            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Product ID:</span>\n                                                            <span className=\"ml-2 text-gray-600 dark:text-gray-400\">{event.product_id}</span>\n                                                        </div>\n                                                    )}\n                                                    {event.revenue && (\n                                                        <div>\n                                                            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Revenue:</span>\n                                                            <span className=\"ml-2 text-green-600 dark:text-green-400\">{formatCurrency(event.revenue)}</span>\n                                                        </div>\n                                                    )}\n                                                    {event.properties && Object.keys(event.properties).length > 0 && (\n                                                        <div className=\"md:col-span-2\">\n                                                            <span className=\"font-medium text-gray-700 dark:text-gray-300\">Properties:</span>\n                                                            <div className=\"mt-2 bg-gray-100 dark:bg-gray-800 rounded p-2 text-xs\">\n                                                                <pre className=\"whitespace-pre-wrap\">\n                                                                    {JSON.stringify(event.properties, null, 2)}\n                                                                </pre>\n                                                            </div>\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    ) : selectedUser ? (\n                        <div className=\"text-center py-8\">\n                            <p className=\"text-gray-500 dark:text-gray-400\">\n                                No events found for the selected filter.\n                            </p>\n                        </div>\n                    ) : null}\n                </div>\n            )}\n\n            {!selectedUser && (\n                <div className=\"text-center py-12\">\n                    <div className=\"text-6xl mb-4\">ðŸ‘¤</div>\n                    <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n                        Select a User\n                    </h3>\n                    <p className=\"text-gray-500 dark:text-gray-400\">\n                        Choose a user from the dropdown above to view their detailed event timeline.\n                    </p>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default UserTimelineViewer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}