{"ast":null,"code":"var _jsxFileName = \"/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/pages/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { RefreshCw, Search, Filter, BarChart3, AlertTriangle, CheckCircle, Clock, Database, TrendingUp, Users, DollarSign, Eye, EyeOff, Grid, List, Settings, XCircle } from 'lucide-react';\nimport { DashboardGrid } from '../components/DashboardGrid';\nimport { DebugModal } from '../components/DebugModal';\nimport { GraphModal } from '../components/GraphModal';\nimport TimelineModal from '../components/TimelineModal';\nimport AnalyticsPipelineControls from '../components/dashboard/AnalyticsPipelineControls';\nimport { DashboardControls } from '../components/dashboard/DashboardControls';\nimport { dashboardApi } from '../services/dashboardApi';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Dashboard = () => {\n  _s();\n  // Main dashboard state\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [dashboardData, setDashboardData] = useState([]);\n  const [lastUpdated, setLastUpdated] = useState(null);\n\n  // Dashboard controls state\n  const [dateRange, setDateRange] = useState(() => {\n    const saved = localStorage.getItem('dashboard_date_range');\n    if (saved) {\n      try {\n        return JSON.parse(saved);\n      } catch (e) {\n        console.warn('Failed to parse saved date range:', e);\n      }\n    }\n    return {\n      start_date: '2024-01-01',\n      end_date: new Date().toISOString().split('T')[0]\n    };\n  });\n  const [breakdown, setBreakdown] = useState(() => {\n    return localStorage.getItem('dashboard_breakdown') || 'all';\n  });\n  const [hierarchy, setHierarchy] = useState(() => {\n    return localStorage.getItem('dashboard_hierarchy') || 'campaign';\n  });\n  const [textFilter, setTextFilter] = useState('');\n\n  // Modal states\n  const [isDebugModalOpen, setIsDebugModalOpen] = useState(false);\n  const [isGraphModalOpen, setIsGraphModalOpen] = useState(false);\n  const [isTimelineModalOpen, setIsTimelineModalOpen] = useState(false);\n  const [selectedRowData, setSelectedRowData] = useState(null);\n\n  // UI state\n  const [viewMode, setViewMode] = useState('grid');\n  const [showSettings, setShowSettings] = useState(false);\n\n  // Column visibility state\n  const [columnVisibility, setColumnVisibility] = useState(() => {\n    const saved = localStorage.getItem('dashboard_column_visibility');\n    if (saved) {\n      try {\n        return JSON.parse(saved);\n      } catch (e) {\n        console.warn('Failed to parse saved column visibility:', e);\n      }\n    }\n    // Default column visibility\n    return {\n      name: true,\n      campaign_name: true,\n      adset_name: true,\n      impressions: true,\n      clicks: true,\n      spend: true,\n      meta_trials_started: true,\n      mixpanel_trials_started: true,\n      meta_purchases: true,\n      mixpanel_purchases: true,\n      mixpanel_revenue_usd: true,\n      estimated_roas: true,\n      profit: true,\n      trial_accuracy_ratio: true\n    };\n  });\n\n  // Column order state\n  const [columnOrder, setColumnOrder] = useState([]);\n\n  // Row order state  \n  const [rowOrder, setRowOrder] = useState([]);\n\n  // Save states to localStorage\n  useEffect(() => {\n    localStorage.setItem('dashboard_date_range', JSON.stringify(dateRange));\n  }, [dateRange]);\n  useEffect(() => {\n    localStorage.setItem('dashboard_breakdown', breakdown);\n  }, [breakdown]);\n  useEffect(() => {\n    localStorage.setItem('dashboard_hierarchy', hierarchy);\n  }, [hierarchy]);\n  useEffect(() => {\n    localStorage.setItem('dashboard_column_visibility', JSON.stringify(columnVisibility));\n  }, [columnVisibility]);\n\n  // Filter data based on text filter\n  const filteredData = React.useMemo(() => {\n    if (!textFilter.trim()) return dashboardData;\n    const filterText = textFilter.toLowerCase();\n    const filterRecursive = items => {\n      return items.reduce((acc, item) => {\n        // Check if this item matches the filter\n        const matches = item.name && item.name.toLowerCase().includes(filterText) || item.campaign_name && item.campaign_name.toLowerCase().includes(filterText) || item.adset_name && item.adset_name.toLowerCase().includes(filterText) || item.ad_name && item.ad_name.toLowerCase().includes(filterText);\n\n        // Filter children recursively\n        const filteredChildren = item.children ? filterRecursive(item.children) : [];\n\n        // Include this item if it matches OR if it has matching children\n        if (matches || filteredChildren.length > 0) {\n          acc.push({\n            ...item,\n            children: filteredChildren\n          });\n        }\n        return acc;\n      }, []);\n    };\n    return filterRecursive(dashboardData);\n  }, [dashboardData, textFilter]);\n\n  // Handle dashboard data refresh (fast, pre-computed data)\n  const handleRefresh = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      console.log('ðŸ”„ Fetching pre-computed analytics data:', {\n        dateRange,\n        breakdown,\n        hierarchy\n      });\n      const response = await dashboardApi.getAnalyticsData({\n        start_date: dateRange.start_date,\n        end_date: dateRange.end_date,\n        breakdown: breakdown,\n        group_by: hierarchy // Fix parameter name to match backend API\n      });\n      if (response.success) {\n        var _response$data;\n        setDashboardData(response.data || []);\n        setLastUpdated(new Date().toISOString());\n\n        // Initialize row order with data IDs\n        if (response.data && response.data.length > 0) {\n          setRowOrder(response.data.map(r => r.id));\n        }\n        console.log('âœ… Dashboard data loaded successfully');\n        console.log('ðŸ“Š Data summary:', {\n          totalRows: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.length) || 0,\n          breakdown: breakdown,\n          hierarchy: hierarchy\n        });\n      } else {\n        setError(response.error || 'Failed to fetch analytics data');\n      }\n    } catch (error) {\n      console.error('Dashboard refresh error:', error);\n      setError(error.message || 'Failed to refresh dashboard data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle row actions\n  const handleRowAction = (action, rowData) => {\n    setSelectedRowData(rowData);\n    if (action === 'graph') {\n      setIsGraphModalOpen(true);\n    } else if (action === 'debug') {\n      setIsDebugModalOpen(true);\n    } else if (action === 'timeline') {\n      setIsTimelineModalOpen(true);\n    }\n  };\n\n  // Modal close handlers\n  const closeDebugModal = () => {\n    setIsDebugModalOpen(false);\n    setSelectedRowData(null);\n  };\n  const closeGraphModal = () => {\n    setIsGraphModalOpen(false);\n    setSelectedRowData(null);\n  };\n  const closeTimelineModal = () => {\n    setIsTimelineModalOpen(false);\n    setSelectedRowData(null);\n  };\n\n  // Get stats for summary cards\n  const getDashboardStats = () => {\n    if (!dashboardData.length) return null;\n    const calculateStats = items => {\n      let totalSpend = 0;\n      let totalRevenue = 0;\n      let totalImpressions = 0;\n      let totalClicks = 0;\n      let totalTrials = 0;\n      let totalPurchases = 0;\n      let count = 0;\n      items.forEach(item => {\n        // Only sum the top-level items (campaigns) - their totals already include adsets/ads\n        totalSpend += parseFloat(item.spend || 0);\n        totalRevenue += parseFloat(item.mixpanel_revenue_usd || item.estimated_revenue_usd || 0);\n        totalImpressions += parseInt(item.impressions || 0);\n        totalClicks += parseInt(item.clicks || 0);\n        totalTrials += parseInt(item.mixpanel_trials_started || 0);\n        totalPurchases += parseInt(item.mixpanel_purchases || 0);\n        count++;\n\n        // DO NOT add children stats - they're already included in the campaign totals\n        // This prevents double-counting since campaign metrics are aggregated from their adsets/ads\n      });\n      return {\n        totalSpend,\n        totalRevenue,\n        totalImpressions,\n        totalClicks,\n        totalTrials,\n        totalPurchases,\n        count\n      };\n    };\n    const stats = calculateStats(dashboardData);\n    const profit = stats.totalRevenue - stats.totalSpend;\n    const roas = stats.totalSpend > 0 ? stats.totalRevenue / stats.totalSpend : 0;\n    return {\n      ...stats,\n      profit,\n      roas\n    };\n  };\n  const stats = getDashboardStats();\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-gray-900\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"mx-auto h-12 w-12 text-red-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"mt-4 text-3xl font-bold text-gray-900 dark:text-gray-100\",\n            children: \"Dashboard Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-gray-600 dark:text-gray-400\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setError(null);\n              handleRefresh();\n            },\n            className: \"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"mr-2 h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), \"Retry\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-gray-900\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold text-gray-900 dark:text-gray-100\",\n              children: \"Campaign Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-gray-600 dark:text-gray-400\",\n              children: \"Advanced analytics for Meta advertising performance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setViewMode(viewMode === 'grid' ? 'list' : 'grid'),\n              className: \"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\",\n              children: viewMode === 'grid' ? /*#__PURE__*/_jsxDEV(List, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 40\n              }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 71\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowSettings(!showSettings),\n              className: \"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(Settings, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(AnalyticsPipelineControls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 lg:grid-cols-4 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n                  children: \"Date Range\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    value: dateRange.start_date,\n                    onChange: e => setDateRange(prev => ({\n                      ...prev,\n                      start_date: e.target.value\n                    })),\n                    className: \"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    value: dateRange.end_date,\n                    onChange: e => setDateRange(prev => ({\n                      ...prev,\n                      end_date: e.target.value\n                    })),\n                    className: \"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n                  children: \"Breakdown\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: breakdown,\n                  onChange: e => setBreakdown(e.target.value),\n                  className: \"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 shadow-sm focus:border-blue-500 focus:ring-blue-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"all\",\n                    children: \"All\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"country\",\n                    children: \"Country\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"region\",\n                    children: \"Region\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"device\",\n                    children: \"Device\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n                  children: \"Hierarchy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: hierarchy,\n                  onChange: e => setHierarchy(e.target.value),\n                  className: \"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 shadow-sm focus:border-blue-500 focus:ring-blue-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"campaign\",\n                    children: \"Campaign \\u2192 Ad Set \\u2192 Ad\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"adset\",\n                    children: \"Ad Set \\u2192 Ad\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"ad\",\n                    children: \"Ad Only\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col justify-end\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleRefresh,\n                  disabled: loading,\n                  className: \"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n                  children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                      className: \"mr-2 h-4 w-4 animate-spin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 25\n                    }, this), \"Refreshing...\"]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                      className: \"mr-2 h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 25\n                    }, this), \"Refresh Data\"]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), showSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-900 dark:text-gray-100\",\n                children: \"Column Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowSettings(false),\n                className: \"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\",\n                children: /*#__PURE__*/_jsxDEV(XCircle, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DashboardControls, {\n              onColumnVisibilityChange: setColumnVisibility,\n              onColumnOrderChange: setColumnOrder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search campaigns, ad sets, or ads...\",\n            value: textFilter,\n            onChange: e => setTextFilter(e.target.value),\n            className: \"pl-10 pr-4 py-3 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this), stats && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n              className: \"h-8 w-8 text-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-600 dark:text-gray-400\",\n                children: \"Total Spend\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900 dark:text-gray-100\",\n                children: [\"$\", stats.totalSpend.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"h-8 w-8 text-green-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-600 dark:text-gray-400\",\n                children: \"Revenue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900 dark:text-gray-100\",\n                children: [\"$\", stats.totalRevenue.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              className: `h-8 w-8 ${stats.profit >= 0 ? 'text-green-500' : 'text-red-500'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-600 dark:text-gray-400\",\n                children: \"Profit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-2xl font-bold ${stats.profit >= 0 ? 'text-green-600' : 'text-red-600'}`,\n                children: [\"$\", stats.profit.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"h-8 w-8 text-purple-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-600 dark:text-gray-400\",\n                children: \"ROAS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-2xl font-bold ${stats.roas >= 1.5 ? 'text-green-600' : stats.roas >= 1.0 ? 'text-yellow-600' : 'text-red-600'}`,\n                children: [stats.roas.toFixed(2), \"x\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 11\n      }, this), lastUpdated && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 flex items-center text-sm text-gray-500 dark:text-gray-400\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          className: \"mr-2 h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 13\n        }, this), \"Last updated: \", new Date(lastUpdated).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center h-64 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"mx-auto h-8 w-8 text-blue-500 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-lg font-medium text-gray-900 dark:text-gray-100\",\n            children: \"Loading dashboard data...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 dark:text-gray-400\",\n            children: \"Fetching pre-computed analytics data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 11\n      }, this) : filteredData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(DashboardGrid, {\n          data: filteredData,\n          rowOrder: rowOrder,\n          onRowOrderChange: setRowOrder,\n          onRowAction: handleRowAction,\n          columnVisibility: columnVisibility,\n          columnOrder: columnOrder,\n          onColumnOrderChange: setColumnOrder,\n          dashboardParams: {\n            start_date: dateRange.start_date,\n            end_date: dateRange.end_date,\n            breakdown: breakdown,\n            hierarchy: hierarchy\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Database, {\n          className: \"mx-auto h-12 w-12 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-4 text-lg font-semibold text-gray-900 dark:text-gray-100\",\n          children: \"No Data Available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600 dark:text-gray-400 max-w-md mx-auto\",\n          children: textFilter ? `No results found for \"${textFilter}\". Try adjusting your search terms.` : 'Click \"Refresh Data\" to load campaign information for the selected date range and settings.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this), !textFilter && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRefresh,\n          className: \"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"mr-2 h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 17\n          }, this), \"Refresh Data\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), selectedRowData && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(DebugModal, {\n        isOpen: isDebugModalOpen,\n        onClose: closeDebugModal,\n        data: selectedRowData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GraphModal, {\n        isOpen: isGraphModalOpen,\n        onClose: closeGraphModal,\n        data: selectedRowData,\n        dashboardParams: {\n          start_date: dateRange.start_date,\n          end_date: dateRange.end_date,\n          breakdown: breakdown,\n          hierarchy: hierarchy\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TimelineModal, {\n        isOpen: isTimelineModalOpen,\n        onClose: closeTimelineModal,\n        data: selectedRowData,\n        rowData: selectedRowData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 306,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"RgLnKqdvUb/zm+RfmbyVo6ctGyE=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","RefreshCw","Search","Filter","BarChart3","AlertTriangle","CheckCircle","Clock","Database","TrendingUp","Users","DollarSign","Eye","EyeOff","Grid","List","Settings","XCircle","DashboardGrid","DebugModal","GraphModal","TimelineModal","AnalyticsPipelineControls","DashboardControls","dashboardApi","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","loading","setLoading","error","setError","dashboardData","setDashboardData","lastUpdated","setLastUpdated","dateRange","setDateRange","saved","localStorage","getItem","JSON","parse","e","console","warn","start_date","end_date","Date","toISOString","split","breakdown","setBreakdown","hierarchy","setHierarchy","textFilter","setTextFilter","isDebugModalOpen","setIsDebugModalOpen","isGraphModalOpen","setIsGraphModalOpen","isTimelineModalOpen","setIsTimelineModalOpen","selectedRowData","setSelectedRowData","viewMode","setViewMode","showSettings","setShowSettings","columnVisibility","setColumnVisibility","name","campaign_name","adset_name","impressions","clicks","spend","meta_trials_started","mixpanel_trials_started","meta_purchases","mixpanel_purchases","mixpanel_revenue_usd","estimated_roas","profit","trial_accuracy_ratio","columnOrder","setColumnOrder","rowOrder","setRowOrder","setItem","stringify","filteredData","useMemo","trim","filterText","toLowerCase","filterRecursive","items","reduce","acc","item","matches","includes","ad_name","filteredChildren","children","length","push","handleRefresh","log","response","getAnalyticsData","group_by","success","_response$data","data","map","r","id","totalRows","message","handleRowAction","action","rowData","closeDebugModal","closeGraphModal","closeTimelineModal","getDashboardStats","calculateStats","totalSpend","totalRevenue","totalImpressions","totalClicks","totalTrials","totalPurchases","count","forEach","parseFloat","estimated_revenue_usd","parseInt","stats","roas","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","value","onChange","prev","target","disabled","onColumnVisibilityChange","onColumnOrderChange","placeholder","toLocaleString","toFixed","onRowOrderChange","onRowAction","dashboardParams","isOpen","onClose","_c","$RefreshReg$"],"sources":["/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  RefreshCw, \n  Search, \n  Filter, \n  BarChart3, \n  AlertTriangle, \n  CheckCircle, \n  Clock,\n  Database,\n  TrendingUp,\n  Users,\n  DollarSign,\n  Eye,\n  EyeOff,\n  Grid,\n  List,\n  Settings,\n  XCircle\n} from 'lucide-react';\nimport { DashboardGrid } from '../components/DashboardGrid';\nimport { DebugModal } from '../components/DebugModal';\nimport { GraphModal } from '../components/GraphModal';\nimport TimelineModal from '../components/TimelineModal';\nimport AnalyticsPipelineControls from '../components/dashboard/AnalyticsPipelineControls';\nimport { DashboardControls } from '../components/dashboard/DashboardControls';\nimport { dashboardApi } from '../services/dashboardApi';\n\nexport const Dashboard = () => {\n  // Main dashboard state\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [dashboardData, setDashboardData] = useState([]);\n  const [lastUpdated, setLastUpdated] = useState(null);\n  \n  // Dashboard controls state\n  const [dateRange, setDateRange] = useState(() => {\n    const saved = localStorage.getItem('dashboard_date_range');\n    if (saved) {\n      try {\n        return JSON.parse(saved);\n      } catch (e) {\n        console.warn('Failed to parse saved date range:', e);\n      }\n    }\n    return {\n      start_date: '2024-01-01',\n      end_date: new Date().toISOString().split('T')[0]\n    };\n  });\n\n  const [breakdown, setBreakdown] = useState(() => {\n    return localStorage.getItem('dashboard_breakdown') || 'all';\n  });\n\n  const [hierarchy, setHierarchy] = useState(() => {\n    return localStorage.getItem('dashboard_hierarchy') || 'campaign';\n  });\n\n  const [textFilter, setTextFilter] = useState('');\n  \n  // Modal states\n  const [isDebugModalOpen, setIsDebugModalOpen] = useState(false);\n  const [isGraphModalOpen, setIsGraphModalOpen] = useState(false);\n  const [isTimelineModalOpen, setIsTimelineModalOpen] = useState(false);\n  const [selectedRowData, setSelectedRowData] = useState(null);\n  \n  // UI state\n  const [viewMode, setViewMode] = useState('grid');\n  const [showSettings, setShowSettings] = useState(false);\n  \n  // Column visibility state\n  const [columnVisibility, setColumnVisibility] = useState(() => {\n    const saved = localStorage.getItem('dashboard_column_visibility');\n    if (saved) {\n      try {\n        return JSON.parse(saved);\n      } catch (e) {\n        console.warn('Failed to parse saved column visibility:', e);\n      }\n    }\n    // Default column visibility\n    return {\n      name: true,\n      campaign_name: true,\n      adset_name: true,\n      impressions: true,\n      clicks: true,\n      spend: true,\n      meta_trials_started: true,\n      mixpanel_trials_started: true,\n      meta_purchases: true,\n      mixpanel_purchases: true,\n      mixpanel_revenue_usd: true,\n      estimated_roas: true,\n      profit: true,\n      trial_accuracy_ratio: true\n    };\n  });\n\n  // Column order state\n  const [columnOrder, setColumnOrder] = useState([]);\n  \n  // Row order state  \n  const [rowOrder, setRowOrder] = useState([]);\n\n  // Save states to localStorage\n  useEffect(() => {\n    localStorage.setItem('dashboard_date_range', JSON.stringify(dateRange));\n  }, [dateRange]);\n\n  useEffect(() => {\n    localStorage.setItem('dashboard_breakdown', breakdown);\n  }, [breakdown]);\n\n  useEffect(() => {\n    localStorage.setItem('dashboard_hierarchy', hierarchy);\n  }, [hierarchy]);\n\n  useEffect(() => {\n    localStorage.setItem('dashboard_column_visibility', JSON.stringify(columnVisibility));\n  }, [columnVisibility]);\n\n  // Filter data based on text filter\n  const filteredData = React.useMemo(() => {\n    if (!textFilter.trim()) return dashboardData;\n    \n    const filterText = textFilter.toLowerCase();\n    \n    const filterRecursive = (items) => {\n      return items.reduce((acc, item) => {\n        // Check if this item matches the filter\n        const matches = (\n          (item.name && item.name.toLowerCase().includes(filterText)) ||\n          (item.campaign_name && item.campaign_name.toLowerCase().includes(filterText)) ||\n          (item.adset_name && item.adset_name.toLowerCase().includes(filterText)) ||\n          (item.ad_name && item.ad_name.toLowerCase().includes(filterText))\n        );\n        \n        // Filter children recursively\n        const filteredChildren = item.children ? filterRecursive(item.children) : [];\n        \n        // Include this item if it matches OR if it has matching children\n        if (matches || filteredChildren.length > 0) {\n          acc.push({\n            ...item,\n            children: filteredChildren\n          });\n        }\n        \n        return acc;\n      }, []);\n    };\n    \n    return filterRecursive(dashboardData);\n  }, [dashboardData, textFilter]);\n\n  // Handle dashboard data refresh (fast, pre-computed data)\n  const handleRefresh = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      console.log('ðŸ”„ Fetching pre-computed analytics data:', {\n        dateRange,\n        breakdown,\n        hierarchy\n      });\n      \n      const response = await dashboardApi.getAnalyticsData({\n        start_date: dateRange.start_date,\n        end_date: dateRange.end_date,\n        breakdown: breakdown,\n        group_by: hierarchy  // Fix parameter name to match backend API\n      });\n      \n      if (response.success) {\n        setDashboardData(response.data || []);\n        setLastUpdated(new Date().toISOString());\n        \n        // Initialize row order with data IDs\n        if (response.data && response.data.length > 0) {\n          setRowOrder(response.data.map(r => r.id));\n        }\n        \n        console.log('âœ… Dashboard data loaded successfully');\n        console.log('ðŸ“Š Data summary:', {\n          totalRows: response.data?.length || 0,\n          breakdown: breakdown,\n          hierarchy: hierarchy\n        });\n        \n      } else {\n        setError(response.error || 'Failed to fetch analytics data');\n      }\n    } catch (error) {\n      console.error('Dashboard refresh error:', error);\n      setError(error.message || 'Failed to refresh dashboard data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle row actions\n  const handleRowAction = (action, rowData) => {\n    setSelectedRowData(rowData);\n    if (action === 'graph') {\n      setIsGraphModalOpen(true);\n    } else if (action === 'debug') {\n      setIsDebugModalOpen(true);\n    } else if (action === 'timeline') {\n      setIsTimelineModalOpen(true);\n    }\n  };\n\n  // Modal close handlers\n  const closeDebugModal = () => {\n    setIsDebugModalOpen(false);\n    setSelectedRowData(null);\n  };\n\n  const closeGraphModal = () => {\n    setIsGraphModalOpen(false);\n    setSelectedRowData(null);\n  };\n\n  const closeTimelineModal = () => {\n    setIsTimelineModalOpen(false);\n    setSelectedRowData(null);\n  };\n\n  // Get stats for summary cards\n  const getDashboardStats = () => {\n    if (!dashboardData.length) return null;\n    \n    const calculateStats = (items) => {\n      let totalSpend = 0;\n      let totalRevenue = 0;\n      let totalImpressions = 0;\n      let totalClicks = 0;\n      let totalTrials = 0;\n      let totalPurchases = 0;\n      let count = 0;\n      \n      items.forEach(item => {\n        // Only sum the top-level items (campaigns) - their totals already include adsets/ads\n        totalSpend += parseFloat(item.spend || 0);\n        totalRevenue += parseFloat(item.mixpanel_revenue_usd || item.estimated_revenue_usd || 0);\n        totalImpressions += parseInt(item.impressions || 0);\n        totalClicks += parseInt(item.clicks || 0);\n        totalTrials += parseInt(item.mixpanel_trials_started || 0);\n        totalPurchases += parseInt(item.mixpanel_purchases || 0);\n        count++;\n        \n        // DO NOT add children stats - they're already included in the campaign totals\n        // This prevents double-counting since campaign metrics are aggregated from their adsets/ads\n      });\n      \n      return {\n        totalSpend,\n        totalRevenue,\n        totalImpressions,\n        totalClicks,\n        totalTrials,\n        totalPurchases,\n        count\n      };\n    };\n    \n    const stats = calculateStats(dashboardData);\n    const profit = stats.totalRevenue - stats.totalSpend;\n    const roas = stats.totalSpend > 0 ? stats.totalRevenue / stats.totalSpend : 0;\n    \n    return { ...stats, profit, roas };\n  };\n\n  const stats = getDashboardStats();\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"text-center\">\n            <AlertTriangle className=\"mx-auto h-12 w-12 text-red-500\" />\n            <h1 className=\"mt-4 text-3xl font-bold text-gray-900 dark:text-gray-100\">\n              Dashboard Error\n            </h1>\n            <p className=\"mt-2 text-gray-600 dark:text-gray-400\">{error}</p>\n            <button \n              onClick={() => {\n                setError(null);\n                handleRefresh();\n              }}\n              className=\"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\"\n            >\n              <RefreshCw className=\"mr-2 h-4 w-4\" />\n              Retry\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      <div className=\"w-full px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900 dark:text-gray-100\">\n                Campaign Dashboard\n              </h1>\n              <p className=\"mt-2 text-gray-600 dark:text-gray-400\">\n                Advanced analytics for Meta advertising performance\n              </p>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}\n                className=\"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n              >\n                {viewMode === 'grid' ? <List className=\"h-5 w-5\" /> : <Grid className=\"h-5 w-5\" />}\n              </button>\n              <button\n                onClick={() => setShowSettings(!showSettings)}\n                className=\"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n              >\n                <Settings className=\"h-5 w-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Analytics Pipeline Status */}\n        <div className=\"mb-6\">\n          <AnalyticsPipelineControls />\n        </div>\n\n        {/* Dashboard Controls */}\n        <div className=\"mb-6\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n            <div className=\"p-6\">\n              <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n                {/* Date Range */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Date Range\n                  </label>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    <input\n                      type=\"date\"\n                      value={dateRange.start_date}\n                      onChange={(e) => setDateRange(prev => ({ ...prev, start_date: e.target.value }))}\n                      className=\"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                    />\n                    <input\n                      type=\"date\"\n                      value={dateRange.end_date}\n                      onChange={(e) => setDateRange(prev => ({ ...prev, end_date: e.target.value }))}\n                      className=\"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                    />\n                  </div>\n                </div>\n\n                {/* Breakdown */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Breakdown\n                  </label>\n                  <select\n                    value={breakdown}\n                    onChange={(e) => setBreakdown(e.target.value)}\n                    className=\"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                  >\n                    <option value=\"all\">All</option>\n                    <option value=\"country\">Country</option>\n                    <option value=\"region\">Region</option>\n                    <option value=\"device\">Device</option>\n                  </select>\n                </div>\n\n                {/* Hierarchy */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                    Hierarchy\n                  </label>\n                  <select\n                    value={hierarchy}\n                    onChange={(e) => setHierarchy(e.target.value)}\n                    className=\"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                  >\n                    <option value=\"campaign\">Campaign â†’ Ad Set â†’ Ad</option>\n                    <option value=\"adset\">Ad Set â†’ Ad</option>\n                    <option value=\"ad\">Ad Only</option>\n                  </select>\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex flex-col justify-end\">\n                  <button\n                    onClick={handleRefresh}\n                    disabled={loading}\n                    className=\"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {loading ? (\n                      <>\n                        <RefreshCw className=\"mr-2 h-4 w-4 animate-spin\" />\n                        Refreshing...\n                      </>\n                    ) : (\n                      <>\n                        <RefreshCw className=\"mr-2 h-4 w-4\" />\n                        Refresh Data\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Column Management Settings Panel */}\n        {showSettings && (\n          <div className=\"mb-6\">\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n              <div className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">\n                    Column Settings\n                  </h3>\n                  <button\n                    onClick={() => setShowSettings(false)}\n                    className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n                  >\n                    <XCircle className=\"h-5 w-5\" />\n                  </button>\n                </div>\n                <DashboardControls\n                  onColumnVisibilityChange={setColumnVisibility}\n                  onColumnOrderChange={setColumnOrder}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Search and Filter */}\n        <div className=\"mb-6\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search campaigns, ad sets, or ads...\"\n              value={textFilter}\n              onChange={(e) => setTextFilter(e.target.value)}\n              className=\"pl-10 pr-4 py-3 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n        </div>\n\n        {/* Summary Stats */}\n        {stats && (\n          <div className=\"mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n              <div className=\"flex items-center\">\n                <DollarSign className=\"h-8 w-8 text-blue-500\" />\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Total Spend</p>\n                  <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n                    ${stats.totalSpend.toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n              <div className=\"flex items-center\">\n                <TrendingUp className=\"h-8 w-8 text-green-500\" />\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Revenue</p>\n                  <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\n                    ${stats.totalRevenue.toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n              <div className=\"flex items-center\">\n                <BarChart3 className={`h-8 w-8 ${stats.profit >= 0 ? 'text-green-500' : 'text-red-500'}`} />\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Profit</p>\n                  <p className={`text-2xl font-bold ${stats.profit >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                    ${stats.profit.toLocaleString()}\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n              <div className=\"flex items-center\">\n                <Users className=\"h-8 w-8 text-purple-500\" />\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">ROAS</p>\n                  <p className={`text-2xl font-bold ${stats.roas >= 1.5 ? 'text-green-600' : stats.roas >= 1.0 ? 'text-yellow-600' : 'text-red-600'}`}>\n                    {stats.roas.toFixed(2)}x\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Last Updated */}\n        {lastUpdated && (\n          <div className=\"mb-4 flex items-center text-sm text-gray-500 dark:text-gray-400\">\n            <Clock className=\"mr-2 h-4 w-4\" />\n            Last updated: {new Date(lastUpdated).toLocaleString()}\n          </div>\n        )}\n\n        {/* Dashboard Content */}\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n            <div className=\"text-center\">\n              <RefreshCw className=\"mx-auto h-8 w-8 text-blue-500 animate-spin\" />\n              <p className=\"mt-2 text-lg font-medium text-gray-900 dark:text-gray-100\">\n                Loading dashboard data...\n              </p>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                Fetching pre-computed analytics data\n              </p>\n            </div>\n          </div>\n        ) : filteredData.length > 0 ? (\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n            <DashboardGrid \n              data={filteredData}\n              rowOrder={rowOrder}\n              onRowOrderChange={setRowOrder}\n              onRowAction={handleRowAction}\n              columnVisibility={columnVisibility}\n              columnOrder={columnOrder}\n              onColumnOrderChange={setColumnOrder}\n              dashboardParams={{\n                start_date: dateRange.start_date,\n                end_date: dateRange.end_date,\n                breakdown: breakdown,\n                hierarchy: hierarchy\n              }}\n            />\n          </div>\n        ) : (\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8 text-center\">\n            <Database className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-4 text-lg font-semibold text-gray-900 dark:text-gray-100\">\n              No Data Available\n            </h3>\n            <p className=\"mt-2 text-gray-600 dark:text-gray-400 max-w-md mx-auto\">\n              {textFilter ? \n                `No results found for \"${textFilter}\". Try adjusting your search terms.` :\n                'Click \"Refresh Data\" to load campaign information for the selected date range and settings.'\n              }\n            </p>\n            {!textFilter && (\n              <button \n                onClick={handleRefresh}\n                className=\"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\"\n              >\n                <RefreshCw className=\"mr-2 h-4 w-4\" />\n                Refresh Data\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n      \n      {/* Modals */}\n      {selectedRowData && (\n        <>\n          <DebugModal \n            isOpen={isDebugModalOpen} \n            onClose={closeDebugModal} \n            data={selectedRowData} \n          />\n          <GraphModal \n            isOpen={isGraphModalOpen} \n            onClose={closeGraphModal} \n            data={selectedRowData}\n            dashboardParams={{\n              start_date: dateRange.start_date,\n              end_date: dateRange.end_date,\n              breakdown: breakdown,\n              hierarchy: hierarchy\n            }}\n          />\n          <TimelineModal \n            isOpen={isTimelineModalOpen} \n            onClose={closeTimelineModal} \n            data={selectedRowData}\n            rowData={selectedRowData}\n          />\n        </>\n      )}\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}