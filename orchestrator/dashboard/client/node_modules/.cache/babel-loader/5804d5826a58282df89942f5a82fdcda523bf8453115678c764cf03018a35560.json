{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JobManager=_ref=>{let{activeJobs,cancelJob}=_ref;if(activeJobs.length===0)return null;const getStatusColor=status=>{switch(status){case'running':return'bg-blue-100 text-blue-800';case'completed':return'bg-green-100 text-green-800';case'completed_with_errors':return'bg-yellow-100 text-yellow-800';case'completed_unknown':return'bg-purple-100 text-purple-800';case'failed':return'bg-red-100 text-red-800';case'cancelled':return'bg-gray-100 text-gray-800';default:return'bg-gray-100 text-gray-800';}};const getStatusText=status=>{switch(status){case'completed_unknown':return'Status Unknown';case'completed_with_errors':return'Completed (with errors)';default:return status;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Collection Jobs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:activeJobs.map(job=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[job.start_date,\" to \",job.end_date]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Fields: \",job.fields,job.breakdowns&&\" | Breakdowns: \".concat(job.breakdowns)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs \".concat(getStatusColor(job.status)),children:getStatusText(job.status)}),job.status==='running'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>cancelJob(job.job_id),className:\"text-red-600 hover:text-red-800 text-xs\",children:\"Cancel\"})]})]}),job.status==='running'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full\",style:{width:\"\".concat(job.progress_percentage,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 mt-1\",children:[job.current_date&&\"Processing: \".concat(job.current_date),\" (\".concat(Math.round(job.progress_percentage),\"%)\")]})]}),job.status==='completed_unknown'&&job.message&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-purple-600 bg-purple-50 p-2 rounded\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" \",job.message]}),job.errors&&job.errors.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-xs text-red-600\",children:[job.errors.length,\" error(s) occurred\"]})]},job.job_id))})]});};export default JobManager;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","JobManager","_ref","activeJobs","cancelJob","length","getStatusColor","status","getStatusText","className","children","map","job","start_date","end_date","fields","breakdowns","concat","onClick","job_id","style","width","progress_percentage","current_date","Math","round","message","errors"],"sources":["/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/components/meta/JobManager.jsx"],"sourcesContent":["import React from 'react';\n\nconst JobManager = ({ activeJobs, cancelJob }) => {\n  if (activeJobs.length === 0) return null;\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'running':\n        return 'bg-blue-100 text-blue-800';\n      case 'completed':\n        return 'bg-green-100 text-green-800';\n      case 'completed_with_errors':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'completed_unknown':\n        return 'bg-purple-100 text-purple-800';\n      case 'failed':\n        return 'bg-red-100 text-red-800';\n      case 'cancelled':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'completed_unknown':\n        return 'Status Unknown';\n      case 'completed_with_errors':\n        return 'Completed (with errors)';\n      default:\n        return status;\n    }\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n      <h2 className=\"text-xl font-semibold mb-4\">Collection Jobs</h2>\n      <div className=\"space-y-3\">\n        {activeJobs.map((job) => (\n          <div key={job.job_id} className=\"border rounded p-3\">\n            <div className=\"flex justify-between items-start mb-2\">\n              <div>\n                <div className=\"font-medium\">{job.start_date} to {job.end_date}</div>\n                <div className=\"text-sm text-gray-600\">\n                  Fields: {job.fields}\n                  {job.breakdowns && ` | Breakdowns: ${job.breakdowns}`}\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <span className={`px-2 py-1 rounded text-xs ${getStatusColor(job.status)}`}>\n                  {getStatusText(job.status)}\n                </span>\n                {job.status === 'running' && (\n                  <button\n                    onClick={() => cancelJob(job.job_id)}\n                    className=\"text-red-600 hover:text-red-800 text-xs\"\n                  >\n                    Cancel\n                  </button>\n                )}\n              </div>\n            </div>\n            \n            {job.status === 'running' && (\n              <div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div \n                    className=\"bg-blue-600 h-2 rounded-full\" \n                    style={{ width: `${job.progress_percentage}%` }}\n                  ></div>\n                </div>\n                <div className=\"text-xs text-gray-600 mt-1\">\n                  {job.current_date && `Processing: ${job.current_date}`}\n                  {` (${Math.round(job.progress_percentage)}%)`}\n                </div>\n              </div>\n            )}\n            \n            {job.status === 'completed_unknown' && job.message && (\n              <div className=\"mt-2 text-xs text-purple-600 bg-purple-50 p-2 rounded\">\n                <strong>Note:</strong> {job.message}\n              </div>\n            )}\n            \n            {job.errors && job.errors.length > 0 && (\n              <div className=\"mt-2 text-xs text-red-600\">\n                {job.errors.length} error(s) occurred\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default JobManager; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}