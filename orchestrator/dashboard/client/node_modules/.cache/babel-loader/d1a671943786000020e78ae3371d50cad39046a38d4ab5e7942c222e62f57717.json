{"ast":null,"code":"var _jsxFileName = \"/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/pages/CohortAnalyzerV3RefactoredPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport ProductFilterConfig from '../cohort-pipeline/components/ProductFilterConfig';\nimport PipelineStageIndicator from '../cohort-pipeline/components/PipelineStageIndicator';\nimport DebugDataViewer from '../cohort-pipeline/components/DebugDataViewer';\nimport CohortFilteringStats from '../cohort-pipeline/components/CohortFilteringStats';\nimport Stage2UserMatchingResults from '../cohort-pipeline/components/Stage2UserMatchingResults';\nimport Stage3RevenueResultsV3 from '../cohort-pipeline/components/Stage3RevenueResultsV3';\nimport { useDebugMode } from '../cohort-pipeline/hooks/useDebugMode';\nimport { api } from '../services/api';\nimport { Zap, TrendingUp, Target, Users, BarChart3, Settings, RefreshCcw, Download, Upload } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CohortAnalyzerV3RefactoredPage = () => {\n  _s();\n  var _pipelineData$data2, _pipelineData$data4, _stageResults$stage, _stageResults$stage2, _stageResults$stage3, _stageResults$stage2$, _stageResults$stage2$2, _pipelineData$stage_r, _pipelineData$stage_r2;\n  // Local storage key for saving state - different from old page\n  const STORAGE_KEY = 'cohort_v3_refactored_analysis_params';\n\n  // Default analysis parameters - matching the working old page format\n  const defaultAnalysisParams = {\n    date_from: '2025-01-01',\n    date_to: '2025-01-31',\n    optional_filters: [],\n    primary_user_filter: {\n      property_name: '',\n      property_values: []\n    },\n    secondary_filters: [],\n    config: {\n      product_filter: {\n        include_patterns: ['gluten'],\n        exclude_patterns: [],\n        specific_product_ids: ['prod_R7oYuL3bSUecnr']\n      },\n      lifecycle: {\n        trial_window_days: 7,\n        cancellation_window_days: 30,\n        smoothing_enabled: true\n      },\n      timeline: {\n        include_estimates: true,\n        include_confidence_intervals: false\n      },\n      detailed_events: {\n        user_id: ''\n      }\n    }\n  };\n\n  // Function to load saved parameters from localStorage\n  const loadSavedParams = () => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      if (saved) {\n        var _parsedParams$config, _parsedParams$config2, _parsedParams$config3, _parsedParams$config4;\n        const parsedParams = JSON.parse(saved);\n        return {\n          ...defaultAnalysisParams,\n          ...parsedParams,\n          optional_filters: parsedParams.optional_filters || [],\n          secondary_filters: parsedParams.secondary_filters || [],\n          config: {\n            ...defaultAnalysisParams.config,\n            ...parsedParams.config,\n            product_filter: {\n              ...defaultAnalysisParams.config.product_filter,\n              ...((_parsedParams$config = parsedParams.config) === null || _parsedParams$config === void 0 ? void 0 : _parsedParams$config.product_filter)\n            },\n            lifecycle: {\n              ...defaultAnalysisParams.config.lifecycle,\n              ...((_parsedParams$config2 = parsedParams.config) === null || _parsedParams$config2 === void 0 ? void 0 : _parsedParams$config2.lifecycle)\n            },\n            timeline: {\n              ...defaultAnalysisParams.config.timeline,\n              ...((_parsedParams$config3 = parsedParams.config) === null || _parsedParams$config3 === void 0 ? void 0 : _parsedParams$config3.timeline)\n            },\n            detailed_events: {\n              ...defaultAnalysisParams.config.detailed_events,\n              ...((_parsedParams$config4 = parsedParams.config) === null || _parsedParams$config4 === void 0 ? void 0 : _parsedParams$config4.detailed_events)\n            }\n          }\n        };\n      }\n    } catch (error) {\n      console.warn('Failed to load saved analysis parameters:', error);\n    }\n    return defaultAnalysisParams;\n  };\n\n  // Function to save parameters to localStorage\n  const saveParams = params => {\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(params));\n    } catch (error) {\n      console.warn('Failed to save analysis parameters:', error);\n    }\n  };\n\n  // State for analysis parameters - initialize with saved values\n  const [analysisParams, setAnalysisParams] = useState(loadSavedParams);\n  const [saveIndicator, setSaveIndicator] = useState(false);\n\n  // Save parameters whenever they change\n  useEffect(() => {\n    saveParams(analysisParams);\n    setSaveIndicator(true);\n    const timer = setTimeout(() => setSaveIndicator(false), 1000);\n    return () => clearTimeout(timer);\n  }, [analysisParams]);\n\n  // Use the SAME hooks as the working old page\n  const {\n    debugMode,\n    debugStage,\n    setDebugMode,\n    setDebugStage\n  } = useDebugMode();\n\n  // V3-specific state management (isolated from V2)\n  const [pipelineData, setPipelineData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // V3-specific API calls\n  const runV3Analysis = async params => {\n    setLoading(true);\n    setError(null);\n    try {\n      console.log('[V3-Refactored] Running full V3 refactored analysis with params:', params);\n\n      // Add warning for potentially large responses\n      const dateRange = new Date(params.date_to) - new Date(params.date_from);\n      const daySpan = dateRange / (1000 * 60 * 60 * 24);\n      if (daySpan > 35) {\n        console.warn(`[V3-Refactored] Large date range detected (${daySpan} days). Response may be very large.`);\n      }\n      const result = await api.analyzeCohortDataV3Refactored(params);\n\n      // Check response size and warn if large\n      const responseSize = JSON.stringify(result).length;\n      console.log(`[V3-Refactored] Response size: ${(responseSize / (1024 * 1024)).toFixed(2)} MB`);\n      if (responseSize > 50 * 1024 * 1024) {\n        // 50MB threshold\n        console.warn('[V3-Refactored] Large response detected. Consider using debug mode to analyze stages individually.');\n        setError('Response is very large (>50MB). Consider using debug mode to analyze stages individually, or reduce the date range.');\n        return;\n      }\n      console.log('[V3-Refactored] Full analysis result:', result);\n      setPipelineData(result);\n    } catch (err) {\n      console.error('[V3-Refactored] Full analysis failed:', err);\n\n      // Enhanced error handling for large responses\n      if (err.message && (err.message.includes('out of memory') || err.message.includes('Maximum call stack'))) {\n        setError('Analysis failed due to large dataset size. Please use debug mode to analyze stages individually or reduce the date range.');\n      } else if (err.code === 'ERR_INSUFFICIENT_RESOURCES') {\n        setError('Browser ran out of memory processing the large response. Please use debug mode or reduce the date range.');\n      } else {\n        setError(err.message || 'V3 refactored analysis failed');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const runV3StageAnalysis = async (params, stage) => {\n    setLoading(true);\n    setError(null);\n    try {\n      console.log(`[V3-Refactored] ENTERING runV3StageAnalysis for stage: ${stage}`);\n      console.log(`[V3-Refactored] Params being passed:`, params);\n      console.log(`[V3-Refactored] About to call api.runV3RefactoredStageAnalysis...`);\n      const result = await api.runV3RefactoredStageAnalysis(params, stage);\n\n      // Check response size\n      const responseSize = JSON.stringify(result).length;\n      console.log(`[V3-Refactored] Stage ${stage} response size: ${(responseSize / (1024 * 1024)).toFixed(2)} MB`);\n      console.log(`[V3-Refactored] RECEIVED result from api.runV3RefactoredStageAnalysis:`, result);\n      setPipelineData(result);\n    } catch (err) {\n      console.error(`[V3-Refactored] Stage ${stage} analysis failed:`, err);\n\n      // Enhanced error handling\n      if (err.message && (err.message.includes('out of memory') || err.message.includes('Maximum call stack'))) {\n        setError(`Stage ${stage} analysis failed due to large dataset size. Please reduce the date range.`);\n      } else {\n        setError(err.message || `V3 refactored stage ${stage} analysis failed`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleParameterChange = newParams => {\n    setAnalysisParams(newParams);\n  };\n  const handleRunAnalysis = () => {\n    if (debugMode && debugStage) {\n      console.log('[V3-Refactored DEBUG] Running stage analysis:', debugStage);\n      runV3StageAnalysis(analysisParams, debugStage);\n    } else {\n      console.log('[V3-Refactored DEBUG] Running full analysis');\n      runV3Analysis(analysisParams);\n    }\n  };\n  const handleResetToDefaults = () => {\n    setAnalysisParams(defaultAnalysisParams);\n  };\n  const handleClearAllSavedData = () => {\n    localStorage.removeItem(STORAGE_KEY);\n    setAnalysisParams(defaultAnalysisParams);\n  };\n  const handleExportSettings = () => {\n    const dataStr = JSON.stringify(analysisParams, null, 2);\n    const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);\n    const exportFileDefaultName = `cohort-v3-refactored-config-${new Date().toISOString().split('T')[0]}.json`;\n    const linkElement = document.createElement('a');\n    linkElement.setAttribute('href', dataUri);\n    linkElement.setAttribute('download', exportFileDefaultName);\n    linkElement.click();\n  };\n  const handleImportSettings = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        try {\n          const importedParams = JSON.parse(e.target.result);\n          const mergedParams = {\n            ...defaultAnalysisParams,\n            ...importedParams,\n            config: {\n              ...defaultAnalysisParams.config,\n              ...importedParams.config\n            }\n          };\n          setAnalysisParams(mergedParams);\n        } catch (error) {\n          console.error('Failed to import settings:', error);\n          // Note: setError is now handled by usePipelineData hook, not available here\n        }\n      };\n      reader.readAsText(file);\n    }\n    event.target.value = '';\n  };\n\n  // Get stage-specific results for display (V3 Refactored format)\n  const getStageResults = stageId => {\n    var _pipelineData$data;\n    // Handle both direct format (pipelineData.stage_results) and nested format (pipelineData.data.stage_results)\n    const stageResults = (pipelineData === null || pipelineData === void 0 ? void 0 : pipelineData.stage_results) || (pipelineData === null || pipelineData === void 0 ? void 0 : (_pipelineData$data = pipelineData.data) === null || _pipelineData$data === void 0 ? void 0 : _pipelineData$data.stage_results);\n    if (!stageResults) return null;\n    return stageResults[stageId] || null;\n  };\n\n  // Check stage progress (V3 Refactored format)\n  // Handle both direct format (pipelineData.stage_results) and nested format (pipelineData.data.stage_results)\n  const stageResults = (pipelineData === null || pipelineData === void 0 ? void 0 : pipelineData.stage_results) || (pipelineData === null || pipelineData === void 0 ? void 0 : (_pipelineData$data2 = pipelineData.data) === null || _pipelineData$data2 === void 0 ? void 0 : _pipelineData$data2.stage_results);\n  const stageProgress = {\n    stage1: !!(stageResults !== null && stageResults !== void 0 && stageResults.stage1 && !stageResults.stage1.error),\n    stage2: !!(stageResults !== null && stageResults !== void 0 && stageResults.stage2 && !stageResults.stage2.error),\n    stage3: !!(stageResults !== null && stageResults !== void 0 && stageResults.stage3 && !stageResults.stage3.error)\n  };\n\n  // Debug: Log the actual data structure we're receiving\n  useEffect(() => {\n    if (pipelineData) {\n      var _pipelineData$data3;\n      console.log('ðŸ” [DEBUG] pipelineData structure:', pipelineData);\n      console.log('ðŸ” [DEBUG] pipelineData.stage_results (direct):', pipelineData.stage_results);\n      console.log('ðŸ” [DEBUG] pipelineData.data.stage_results (nested):', (_pipelineData$data3 = pipelineData.data) === null || _pipelineData$data3 === void 0 ? void 0 : _pipelineData$data3.stage_results);\n      console.log('ðŸ” [DEBUG] computed stageResults:', stageResults);\n      console.log('ðŸ” [DEBUG] stageProgress:', stageProgress);\n      console.log('ðŸ” [DEBUG] Keys in pipelineData:', Object.keys(pipelineData));\n\n      // Check specific stage results\n      if (stageResults) {\n        console.log('ðŸ” [DEBUG] Stage results keys:', Object.keys(stageResults));\n        console.log('ðŸ” [DEBUG] Stage 1 data:', stageResults.stage1);\n        console.log('ðŸ” [DEBUG] Stage 2 data:', stageResults.stage2);\n        console.log('ðŸ” [DEBUG] Stage 3 data:', stageResults.stage3);\n      }\n\n      // Check for alternative data locations\n      if (pipelineData.data) {\n        console.log('ðŸ” [DEBUG] Data keys:', Object.keys(pipelineData.data));\n      }\n    } else {\n      console.log('ðŸ” [DEBUG] No pipelineData available');\n    }\n  }, [pipelineData, stageResults, stageProgress]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold text-gray-900 dark:text-white mb-2\",\n              children: \"Cohort Pipeline V3 - Refactored Architecture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 dark:text-gray-400\",\n              children: \"3-stage conversion probability-based cohort analysis with segment matching and revenue timeline generation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [saveIndicator && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-1 text-green-600 dark:text-green-400 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCBE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Saved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleResetToDefaults,\n              className: \"px-3 py-2 text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors\",\n              title: \"Reset all settings to defaults\",\n              children: \"Reset to Defaults\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleClearAllSavedData,\n              className: \"px-3 py-2 text-sm bg-red-200 hover:bg-red-300 dark:bg-red-700 dark:hover:bg-red-600 text-red-700 dark:text-red-300 rounded-lg transition-colors\",\n              title: \"Clear all saved data including debug state\",\n              children: \"Clear All Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleExportSettings,\n              className: \"px-3 py-2 text-sm bg-blue-200 hover:bg-blue-300 dark:bg-blue-700 dark:hover:bg-blue-600 text-blue-700 dark:text-blue-300 rounded-lg transition-colors\",\n              title: \"Export current settings to JSON file\",\n              children: \"Export Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"px-3 py-2 text-sm bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 text-green-700 dark:text-green-300 rounded-lg transition-colors cursor-pointer\",\n              children: [\"Import Settings\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \".json\",\n                onChange: handleImportSettings,\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-xs text-gray-500 dark:text-gray-400\",\n          children: \"\\uD83D\\uDCBE Settings are automatically saved and will persist across page reloads\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n              children: \"V3 Refactored Pipeline Controls\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: debugMode,\n                  onChange: e => setDebugMode(e.target.checked),\n                  className: \"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-900 dark:text-gray-300\",\n                  children: \"Debug Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 33\n              }, this), debugMode && /*#__PURE__*/_jsxDEV(\"select\", {\n                value: debugStage || '',\n                onChange: e => setDebugStage(e.target.value || null),\n                className: \"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select stage...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"stage1\",\n                  children: \"Stage 1: User Properties Input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"stage2\",\n                  children: \"Stage 2: Segment Matching\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"stage3\",\n                  children: \"Stage 3: Revenue Timeline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleRunAnalysis,\n                disabled: loading,\n                className: `px-4 py-2 rounded-lg font-medium transition-colors ${loading ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 text-white'}`,\n                children: loading ? 'Running...' : 'Run Analysis'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(ProductFilterConfig, {\n          config: analysisParams.config,\n          analysisParams: analysisParams,\n          onConfigChange: handleParameterChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 21\n        }, this), (() => {\n          const dateRange = new Date(analysisParams.date_to) - new Date(analysisParams.date_from);\n          const daySpan = dateRange / (1000 * 60 * 60 * 24);\n          if (daySpan > 35) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-yellow-600 dark:text-yellow-400\",\n                  children: \"\\u26A0\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-yellow-800 dark:text-yellow-200 font-semibold mb-2\",\n                    children: \"Large Date Range Detected\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-yellow-700 dark:text-yellow-300 text-sm mb-2\",\n                    children: [\"You've selected a \", Math.round(daySpan), \" day range. This may result in a very large response (\", '>', \"500MB) that could crash your browser.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-yellow-700 dark:text-yellow-300 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Recommendations:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"list-disc list-inside mt-1 space-y-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                        children: [\"Use \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Debug Mode\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 444,\n                          columnNumber: 61\n                        }, this), \" to analyze stages individually\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 444,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: \"Reduce your date range to 30 days or less\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 445,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: \"Consider analyzing individual months separately\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 446,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 443,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 33\n            }, this);\n          }\n          return null;\n        })()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 17\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg text-gray-600 dark:text-gray-400\",\n            children: \"Running V3 refactored analysis...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 29\n          }, this), (() => {\n            const dateRange = new Date(analysisParams.date_to) - new Date(analysisParams.date_from);\n            const daySpan = dateRange / (1000 * 60 * 60 * 24);\n            if (daySpan > 35) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-yellow-600 dark:text-yellow-400 mt-1\",\n                children: \"\\u26A0\\uFE0F Large date range detected - this may take several minutes and could fail due to browser memory limits\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 41\n              }, this);\n            }\n            return null;\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-red-800 dark:text-red-200 font-semibold mb-2\",\n            children: \"Analysis Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-700 dark:text-red-300\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 25\n        }, this), pipelineData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-blue-800 dark:text-blue-200 font-semibold mb-2\",\n            children: \"Debug: V3 Refactored API Data Structure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-blue-700 dark:text-blue-300 space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Has pipelineData: \", pipelineData ? 'âœ…' : 'âŒ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Has stage_results (direct): \", pipelineData !== null && pipelineData !== void 0 && pipelineData.stage_results ? 'âœ…' : 'âŒ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Has stage_results (nested): \", pipelineData !== null && pipelineData !== void 0 && (_pipelineData$data4 = pipelineData.data) !== null && _pipelineData$data4 !== void 0 && _pipelineData$data4.stage_results ? 'âœ…' : 'âŒ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Stage 1 Complete: \", stageProgress.stage1 ? 'âœ…' : 'âŒ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Stage 2 Complete: \", stageProgress.stage2 ? 'âœ…' : 'âŒ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Stage 3 Complete: \", stageProgress.stage3 ? 'âœ…' : 'âŒ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 33\n            }, this), (stageResults === null || stageResults === void 0 ? void 0 : (_stageResults$stage = stageResults.stage1) === null || _stageResults$stage === void 0 ? void 0 : _stageResults$stage.error) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-600 dark:text-red-400\",\n              children: [\"Stage 1 Error: \", stageResults.stage1.error]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 37\n            }, this), (stageResults === null || stageResults === void 0 ? void 0 : (_stageResults$stage2 = stageResults.stage2) === null || _stageResults$stage2 === void 0 ? void 0 : _stageResults$stage2.error) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-600 dark:text-red-400\",\n              children: [\"Stage 2 Error: \", stageResults.stage2.error]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 37\n            }, this), (stageResults === null || stageResults === void 0 ? void 0 : (_stageResults$stage3 = stageResults.stage3) === null || _stageResults$stage3 === void 0 ? void 0 : _stageResults$stage3.error) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-600 dark:text-red-400\",\n              children: [\"Stage 3 Error: \", stageResults.stage3.error]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Main data keys: \", pipelineData ? Object.keys(pipelineData).join(', ') : 'None']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 33\n            }, this), stageResults && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Stage results keys: \", Object.keys(stageResults).join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 37\n            }, this), (stageResults === null || stageResults === void 0 ? void 0 : stageResults.stage1) && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Stage 1 users: \", stageResults.stage1.total_users || stageResults.stage1.cohort_size || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 37\n            }, this), (stageResults === null || stageResults === void 0 ? void 0 : stageResults.stage2) && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Stage 2 matches: \", ((_stageResults$stage2$ = stageResults.stage2.matching_stats) === null || _stageResults$stage2$ === void 0 ? void 0 : _stageResults$stage2$.successful_matches) || 0, \"/\", ((_stageResults$stage2$2 = stageResults.stage2.matching_stats) === null || _stageResults$stage2$2 === void 0 ? void 0 : _stageResults$stage2$2.total_users) || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 25\n        }, this), pipelineData && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [stageProgress.stage1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(Zap, {\n                size: 24,\n                className: \"text-blue-600 dark:text-blue-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                children: \"Stage 1: User Properties Input - Complete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-blue-900 dark:text-blue-200\",\n                  children: \"Total Users Found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-blue-600 dark:text-blue-300\",\n                  children: ((_pipelineData$stage_r = pipelineData.stage_results) === null || _pipelineData$stage_r === void 0 ? void 0 : (_pipelineData$stage_r2 = _pipelineData$stage_r.stage1) === null || _pipelineData$stage_r2 === void 0 ? void 0 : _pipelineData$stage_r2.total_users) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-green-900 dark:text-green-200\",\n                  children: \"Date Range\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-green-600 dark:text-green-300\",\n                  children: [analysisParams.date_from, \" to \", analysisParams.date_to]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-purple-900 dark:text-purple-200\",\n                  children: \"Stage Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-medium text-purple-600 dark:text-purple-300\",\n                  children: \"\\u2705 User Cohort Extracted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 33\n          }, this), stageProgress.stage2 && /*#__PURE__*/_jsxDEV(Stage2UserMatchingResults, {\n            data: pipelineData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 33\n          }, this), stageProgress.stage3 && /*#__PURE__*/_jsxDEV(Stage3RevenueResultsV3, {\n            data: pipelineData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true), debugMode && pipelineData && /*#__PURE__*/_jsxDEV(DebugDataViewer, {\n          data: pipelineData,\n          stage: debugStage,\n          title: \"V3 Refactored Pipeline Debug Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 9\n  }, this);\n};\n_s(CohortAnalyzerV3RefactoredPage, \"/w4URNSGcJnqoGEnOb6SHrAtmVU=\", false, function () {\n  return [useDebugMode];\n});\n_c = CohortAnalyzerV3RefactoredPage;\nexport default CohortAnalyzerV3RefactoredPage;\nvar _c;\n$RefreshReg$(_c, \"CohortAnalyzerV3RefactoredPage\");","map":{"version":3,"names":["React","useState","useEffect","ProductFilterConfig","PipelineStageIndicator","DebugDataViewer","CohortFilteringStats","Stage2UserMatchingResults","Stage3RevenueResultsV3","useDebugMode","api","Zap","TrendingUp","Target","Users","BarChart3","Settings","RefreshCcw","Download","Upload","jsxDEV","_jsxDEV","Fragment","_Fragment","CohortAnalyzerV3RefactoredPage","_s","_pipelineData$data2","_pipelineData$data4","_stageResults$stage","_stageResults$stage2","_stageResults$stage3","_stageResults$stage2$","_stageResults$stage2$2","_pipelineData$stage_r","_pipelineData$stage_r2","STORAGE_KEY","defaultAnalysisParams","date_from","date_to","optional_filters","primary_user_filter","property_name","property_values","secondary_filters","config","product_filter","include_patterns","exclude_patterns","specific_product_ids","lifecycle","trial_window_days","cancellation_window_days","smoothing_enabled","timeline","include_estimates","include_confidence_intervals","detailed_events","user_id","loadSavedParams","saved","localStorage","getItem","_parsedParams$config","_parsedParams$config2","_parsedParams$config3","_parsedParams$config4","parsedParams","JSON","parse","error","console","warn","saveParams","params","setItem","stringify","analysisParams","setAnalysisParams","saveIndicator","setSaveIndicator","timer","setTimeout","clearTimeout","debugMode","debugStage","setDebugMode","setDebugStage","pipelineData","setPipelineData","loading","setLoading","setError","runV3Analysis","log","dateRange","Date","daySpan","result","analyzeCohortDataV3Refactored","responseSize","length","toFixed","err","message","includes","code","runV3StageAnalysis","stage","runV3RefactoredStageAnalysis","handleParameterChange","newParams","handleRunAnalysis","handleResetToDefaults","handleClearAllSavedData","removeItem","handleExportSettings","dataStr","dataUri","encodeURIComponent","exportFileDefaultName","toISOString","split","linkElement","document","createElement","setAttribute","click","handleImportSettings","event","file","target","files","reader","FileReader","onload","e","importedParams","mergedParams","readAsText","value","getStageResults","stageId","_pipelineData$data","stageResults","stage_results","data","stageProgress","stage1","stage2","stage3","_pipelineData$data3","Object","keys","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","type","accept","onChange","checked","disabled","onConfigChange","Math","round","join","total_users","cohort_size","matching_stats","successful_matches","size","_c","$RefreshReg$"],"sources":["/Users/joshuakaufman/untitled folder 3/orchestrator/dashboard/client/src/pages/CohortAnalyzerV3RefactoredPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ProductFilterConfig from '../cohort-pipeline/components/ProductFilterConfig';\nimport PipelineStageIndicator from '../cohort-pipeline/components/PipelineStageIndicator';\nimport DebugDataViewer from '../cohort-pipeline/components/DebugDataViewer';\nimport CohortFilteringStats from '../cohort-pipeline/components/CohortFilteringStats';\nimport Stage2UserMatchingResults from '../cohort-pipeline/components/Stage2UserMatchingResults';\nimport Stage3RevenueResultsV3 from '../cohort-pipeline/components/Stage3RevenueResultsV3';\nimport { useDebugMode } from '../cohort-pipeline/hooks/useDebugMode';\nimport { api } from '../services/api';\nimport { Zap, TrendingUp, Target, Users, BarChart3, Settings, RefreshCcw, Download, Upload } from 'lucide-react';\n\nconst CohortAnalyzerV3RefactoredPage = () => {\n    // Local storage key for saving state - different from old page\n    const STORAGE_KEY = 'cohort_v3_refactored_analysis_params';\n    \n    // Default analysis parameters - matching the working old page format\n    const defaultAnalysisParams = {\n        date_from: '2025-01-01',\n        date_to: '2025-01-31',\n        optional_filters: [],\n        primary_user_filter: {\n            property_name: '',\n            property_values: []\n        },\n        secondary_filters: [],\n        config: {\n            product_filter: {\n                include_patterns: ['gluten'],\n                exclude_patterns: [],\n                specific_product_ids: ['prod_R7oYuL3bSUecnr']\n            },\n            lifecycle: {\n                trial_window_days: 7,\n                cancellation_window_days: 30,\n                smoothing_enabled: true\n            },\n            timeline: {\n                include_estimates: true,\n                include_confidence_intervals: false\n            },\n            detailed_events: {\n                user_id: ''\n            }\n        }\n    };\n\n    // Function to load saved parameters from localStorage\n    const loadSavedParams = () => {\n        try {\n            const saved = localStorage.getItem(STORAGE_KEY);\n            if (saved) {\n                const parsedParams = JSON.parse(saved);\n                return {\n                    ...defaultAnalysisParams,\n                    ...parsedParams,\n                    optional_filters: parsedParams.optional_filters || [],\n                    secondary_filters: parsedParams.secondary_filters || [],\n                    config: {\n                        ...defaultAnalysisParams.config,\n                        ...parsedParams.config,\n                        product_filter: {\n                            ...defaultAnalysisParams.config.product_filter,\n                            ...parsedParams.config?.product_filter\n                        },\n                        lifecycle: {\n                            ...defaultAnalysisParams.config.lifecycle,\n                            ...parsedParams.config?.lifecycle\n                        },\n                        timeline: {\n                            ...defaultAnalysisParams.config.timeline,\n                            ...parsedParams.config?.timeline\n                        },\n                        detailed_events: {\n                            ...defaultAnalysisParams.config.detailed_events,\n                            ...parsedParams.config?.detailed_events\n                        }\n                    }\n                };\n            }\n        } catch (error) {\n            console.warn('Failed to load saved analysis parameters:', error);\n        }\n        return defaultAnalysisParams;\n    };\n\n    // Function to save parameters to localStorage\n    const saveParams = (params) => {\n        try {\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(params));\n        } catch (error) {\n            console.warn('Failed to save analysis parameters:', error);\n        }\n    };\n\n    // State for analysis parameters - initialize with saved values\n    const [analysisParams, setAnalysisParams] = useState(loadSavedParams);\n    const [saveIndicator, setSaveIndicator] = useState(false);\n\n    // Save parameters whenever they change\n    useEffect(() => {\n        saveParams(analysisParams);\n        setSaveIndicator(true);\n        const timer = setTimeout(() => setSaveIndicator(false), 1000);\n        return () => clearTimeout(timer);\n    }, [analysisParams]);\n\n    // Use the SAME hooks as the working old page\n    const { \n        debugMode, \n        debugStage, \n        setDebugMode, \n        setDebugStage \n    } = useDebugMode();\n\n    // V3-specific state management (isolated from V2)\n    const [pipelineData, setPipelineData] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    \n    // V3-specific API calls\n    const runV3Analysis = async (params) => {\n        setLoading(true);\n        setError(null);\n        try {\n            console.log('[V3-Refactored] Running full V3 refactored analysis with params:', params);\n            \n            // Add warning for potentially large responses\n            const dateRange = new Date(params.date_to) - new Date(params.date_from);\n            const daySpan = dateRange / (1000 * 60 * 60 * 24);\n            \n            if (daySpan > 35) {\n                console.warn(`[V3-Refactored] Large date range detected (${daySpan} days). Response may be very large.`);\n            }\n            \n            const result = await api.analyzeCohortDataV3Refactored(params);\n            \n            // Check response size and warn if large\n            const responseSize = JSON.stringify(result).length;\n            console.log(`[V3-Refactored] Response size: ${(responseSize / (1024 * 1024)).toFixed(2)} MB`);\n            \n            if (responseSize > 50 * 1024 * 1024) { // 50MB threshold\n                console.warn('[V3-Refactored] Large response detected. Consider using debug mode to analyze stages individually.');\n                setError('Response is very large (>50MB). Consider using debug mode to analyze stages individually, or reduce the date range.');\n                return;\n            }\n            \n            console.log('[V3-Refactored] Full analysis result:', result);\n            setPipelineData(result);\n        } catch (err) {\n            console.error('[V3-Refactored] Full analysis failed:', err);\n            \n            // Enhanced error handling for large responses\n            if (err.message && (err.message.includes('out of memory') || err.message.includes('Maximum call stack'))) {\n                setError('Analysis failed due to large dataset size. Please use debug mode to analyze stages individually or reduce the date range.');\n            } else if (err.code === 'ERR_INSUFFICIENT_RESOURCES') {\n                setError('Browser ran out of memory processing the large response. Please use debug mode or reduce the date range.');\n            } else {\n                setError(err.message || 'V3 refactored analysis failed');\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    const runV3StageAnalysis = async (params, stage) => {\n        setLoading(true);\n        setError(null);\n        try {\n            console.log(`[V3-Refactored] ENTERING runV3StageAnalysis for stage: ${stage}`);\n            console.log(`[V3-Refactored] Params being passed:`, params);\n            console.log(`[V3-Refactored] About to call api.runV3RefactoredStageAnalysis...`);\n            \n            const result = await api.runV3RefactoredStageAnalysis(params, stage);\n            \n            // Check response size\n            const responseSize = JSON.stringify(result).length;\n            console.log(`[V3-Refactored] Stage ${stage} response size: ${(responseSize / (1024 * 1024)).toFixed(2)} MB`);\n            \n            console.log(`[V3-Refactored] RECEIVED result from api.runV3RefactoredStageAnalysis:`, result);\n            setPipelineData(result);\n        } catch (err) {\n            console.error(`[V3-Refactored] Stage ${stage} analysis failed:`, err);\n            \n            // Enhanced error handling\n            if (err.message && (err.message.includes('out of memory') || err.message.includes('Maximum call stack'))) {\n                setError(`Stage ${stage} analysis failed due to large dataset size. Please reduce the date range.`);\n            } else {\n                setError(err.message || `V3 refactored stage ${stage} analysis failed`);\n            }\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleParameterChange = (newParams) => {\n        setAnalysisParams(newParams);\n    };\n\n    const handleRunAnalysis = () => {\n        if (debugMode && debugStage) {\n            console.log('[V3-Refactored DEBUG] Running stage analysis:', debugStage);\n            runV3StageAnalysis(analysisParams, debugStage);\n        } else {\n            console.log('[V3-Refactored DEBUG] Running full analysis');\n            runV3Analysis(analysisParams);\n        }\n    };\n\n    const handleResetToDefaults = () => {\n        setAnalysisParams(defaultAnalysisParams);\n    };\n\n    const handleClearAllSavedData = () => {\n        localStorage.removeItem(STORAGE_KEY);\n        setAnalysisParams(defaultAnalysisParams);\n    };\n\n    const handleExportSettings = () => {\n        const dataStr = JSON.stringify(analysisParams, null, 2);\n        const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\n        const exportFileDefaultName = `cohort-v3-refactored-config-${new Date().toISOString().split('T')[0]}.json`;\n        \n        const linkElement = document.createElement('a');\n        linkElement.setAttribute('href', dataUri);\n        linkElement.setAttribute('download', exportFileDefaultName);\n        linkElement.click();\n    };\n\n    const handleImportSettings = (event) => {\n        const file = event.target.files[0];\n        if (file) {\n            const reader = new FileReader();\n            reader.onload = (e) => {\n                try {\n                    const importedParams = JSON.parse(e.target.result);\n                    const mergedParams = {\n                        ...defaultAnalysisParams,\n                        ...importedParams,\n                        config: {\n                            ...defaultAnalysisParams.config,\n                            ...importedParams.config\n                        }\n                    };\n                    setAnalysisParams(mergedParams);\n                } catch (error) {\n                    console.error('Failed to import settings:', error);\n                    // Note: setError is now handled by usePipelineData hook, not available here\n                }\n            };\n            reader.readAsText(file);\n        }\n        event.target.value = '';\n    };\n\n    // Get stage-specific results for display (V3 Refactored format)\n    const getStageResults = (stageId) => {\n        // Handle both direct format (pipelineData.stage_results) and nested format (pipelineData.data.stage_results)\n        const stageResults = pipelineData?.stage_results || pipelineData?.data?.stage_results;\n        if (!stageResults) return null;\n        \n        return stageResults[stageId] || null;\n    };\n\n    // Check stage progress (V3 Refactored format)\n    // Handle both direct format (pipelineData.stage_results) and nested format (pipelineData.data.stage_results)\n    const stageResults = pipelineData?.stage_results || pipelineData?.data?.stage_results;\n    \n    const stageProgress = {\n        stage1: !!(stageResults?.stage1 && !stageResults.stage1.error),\n        stage2: !!(stageResults?.stage2 && !stageResults.stage2.error),\n        stage3: !!(stageResults?.stage3 && !stageResults.stage3.error)\n    };\n\n    // Debug: Log the actual data structure we're receiving\n    useEffect(() => {\n        if (pipelineData) {\n            console.log('ðŸ” [DEBUG] pipelineData structure:', pipelineData);\n            console.log('ðŸ” [DEBUG] pipelineData.stage_results (direct):', pipelineData.stage_results);\n            console.log('ðŸ” [DEBUG] pipelineData.data.stage_results (nested):', pipelineData.data?.stage_results);\n            console.log('ðŸ” [DEBUG] computed stageResults:', stageResults);\n            console.log('ðŸ” [DEBUG] stageProgress:', stageProgress);\n            console.log('ðŸ” [DEBUG] Keys in pipelineData:', Object.keys(pipelineData));\n            \n            // Check specific stage results\n            if (stageResults) {\n                console.log('ðŸ” [DEBUG] Stage results keys:', Object.keys(stageResults));\n                console.log('ðŸ” [DEBUG] Stage 1 data:', stageResults.stage1);\n                console.log('ðŸ” [DEBUG] Stage 2 data:', stageResults.stage2);\n                console.log('ðŸ” [DEBUG] Stage 3 data:', stageResults.stage3);\n            }\n            \n            // Check for alternative data locations\n            if (pipelineData.data) {\n                console.log('ðŸ” [DEBUG] Data keys:', Object.keys(pipelineData.data));\n            }\n        } else {\n            console.log('ðŸ” [DEBUG] No pipelineData available');\n        }\n    }, [pipelineData, stageResults, stageProgress]);\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n            <div className=\"container mx-auto px-4 py-8\">\n                {/* Header - matching CohortPipelineDebugPage.js style */}\n                <div className=\"mb-8\">\n                    <div className=\"flex items-center justify-between\">\n                        <div>\n                            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">\n                                Cohort Pipeline V3 - Refactored Architecture\n                            </h1>\n                            <p className=\"text-gray-600 dark:text-gray-400\">\n                                3-stage conversion probability-based cohort analysis with segment matching and revenue timeline generation\n                            </p>\n                        </div>\n                        \n                        {/* Settings Management - matching CohortPipelineDebugPage.js */}\n                        <div className=\"flex items-center space-x-2\">\n                            {saveIndicator && (\n                                <div className=\"flex items-center space-x-1 text-green-600 dark:text-green-400 text-sm\">\n                                    <span>ðŸ’¾</span>\n                                    <span>Saved</span>\n                                </div>\n                            )}\n                            \n                            <button\n                                onClick={handleResetToDefaults}\n                                className=\"px-3 py-2 text-sm bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors\"\n                                title=\"Reset all settings to defaults\"\n                            >\n                                Reset to Defaults\n                            </button>\n                            \n                            <button\n                                onClick={handleClearAllSavedData}\n                                className=\"px-3 py-2 text-sm bg-red-200 hover:bg-red-300 dark:bg-red-700 dark:hover:bg-red-600 text-red-700 dark:text-red-300 rounded-lg transition-colors\"\n                                title=\"Clear all saved data including debug state\"\n                            >\n                                Clear All Data\n                            </button>\n                            \n                            <button\n                                onClick={handleExportSettings}\n                                className=\"px-3 py-2 text-sm bg-blue-200 hover:bg-blue-300 dark:bg-blue-700 dark:hover:bg-blue-600 text-blue-700 dark:text-blue-300 rounded-lg transition-colors\"\n                                title=\"Export current settings to JSON file\"\n                            >\n                                Export Settings\n                            </button>\n                            \n                            <label className=\"px-3 py-2 text-sm bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 text-green-700 dark:text-green-300 rounded-lg transition-colors cursor-pointer\">\n                                Import Settings\n                                <input\n                                    type=\"file\"\n                                    accept=\".json\"\n                                    onChange={handleImportSettings}\n                                    className=\"hidden\"\n                                />\n                            </label>\n                        </div>\n                    </div>\n                    \n                    {/* Auto-save indicator - matching CohortPipelineDebugPage.js */}\n                    <div className=\"mt-2 text-xs text-gray-500 dark:text-gray-400\">\n                        ðŸ’¾ Settings are automatically saved and will persist across page reloads\n                    </div>\n                </div>\n\n                {/* Debug Controls Section - matching CohortPipelineDebugPage.js approach */}\n                <div className=\"mb-8\">\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\n                        <div className=\"flex items-center justify-between mb-6\">\n                            <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                                V3 Refactored Pipeline Controls\n                            </h2>\n                            \n                            {/* Debug Mode Toggle */}\n                            <div className=\"flex items-center space-x-4\">\n                                <label className=\"flex items-center space-x-2\">\n                                    <input\n                                        type=\"checkbox\"\n                                        checked={debugMode}\n                                        onChange={(e) => setDebugMode(e.target.checked)}\n                                        className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\n                                    />\n                                    <span className=\"text-sm font-medium text-gray-900 dark:text-gray-300\">\n                                        Debug Mode\n                                    </span>\n                                </label>\n                                \n                                {debugMode && (\n                                    <select\n                                        value={debugStage || ''}\n                                        onChange={(e) => setDebugStage(e.target.value || null)}\n                                        className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white\"\n                                    >\n                                        <option value=\"\">Select stage...</option>\n                                        <option value=\"stage1\">Stage 1: User Properties Input</option>\n                                        <option value=\"stage2\">Stage 2: Segment Matching</option>\n                                        <option value=\"stage3\">Stage 3: Revenue Timeline</option>\n                                    </select>\n                                )}\n                                \n                                <button\n                                    onClick={handleRunAnalysis}\n                                    disabled={loading}\n                                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                                        loading\n                                            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                                            : 'bg-blue-600 hover:bg-blue-700 text-white'\n                                    }`}\n                                >\n                                    {loading ? 'Running...' : 'Run Analysis'}\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Configuration Section */}\n                <div className=\"mb-8\">\n                    <ProductFilterConfig\n                        config={analysisParams.config}\n                        analysisParams={analysisParams}\n                        onConfigChange={handleParameterChange}\n                    />\n                    \n                    {/* Large Date Range Warning */}\n                    {(() => {\n                        const dateRange = new Date(analysisParams.date_to) - new Date(analysisParams.date_from);\n                        const daySpan = dateRange / (1000 * 60 * 60 * 24);\n                        \n                        if (daySpan > 35) {\n                            return (\n                                <div className=\"mt-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4\">\n                                    <div className=\"flex items-start gap-3\">\n                                        <div className=\"text-yellow-600 dark:text-yellow-400\">âš ï¸</div>\n                                        <div>\n                                            <h3 className=\"text-yellow-800 dark:text-yellow-200 font-semibold mb-2\">Large Date Range Detected</h3>\n                                            <p className=\"text-yellow-700 dark:text-yellow-300 text-sm mb-2\">\n                                                You've selected a {Math.round(daySpan)} day range. This may result in a very large response ({'>'}500MB) that could crash your browser.\n                                            </p>\n                                            <div className=\"text-yellow-700 dark:text-yellow-300 text-sm\">\n                                                <strong>Recommendations:</strong>\n                                                <ul className=\"list-disc list-inside mt-1 space-y-1\">\n                                                    <li>Use <strong>Debug Mode</strong> to analyze stages individually</li>\n                                                    <li>Reduce your date range to 30 days or less</li>\n                                                    <li>Consider analyzing individual months separately</li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            );\n                        }\n                        return null;\n                    })()}\n                </div>\n\n                {/* Loading State */}\n                {loading && (\n                    <div className=\"flex justify-center items-center py-12\">\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n                        <div className=\"ml-3\">\n                            <div className=\"text-lg text-gray-600 dark:text-gray-400\">\n                                Running V3 refactored analysis...\n                            </div>\n                            {(() => {\n                                const dateRange = new Date(analysisParams.date_to) - new Date(analysisParams.date_from);\n                                const daySpan = dateRange / (1000 * 60 * 60 * 24);\n                                \n                                if (daySpan > 35) {\n                                    return (\n                                        <div className=\"text-sm text-yellow-600 dark:text-yellow-400 mt-1\">\n                                            âš ï¸ Large date range detected - this may take several minutes and could fail due to browser memory limits\n                                        </div>\n                                    );\n                                }\n                                return null;\n                            })()}\n                        </div>\n                    </div>\n                )}\n\n                {/* Results Display */}\n                <div className=\"space-y-6\">\n                    {/* Error Display */}\n                    {error && (\n                        <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\n                            <h3 className=\"text-red-800 dark:text-red-200 font-semibold mb-2\">Analysis Error</h3>\n                            <p className=\"text-red-700 dark:text-red-300\">{error}</p>\n                        </div>\n                    )}\n\n                    {/* Debug Information */}\n                    {pipelineData && (\n                        <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\n                            <h3 className=\"text-blue-800 dark:text-blue-200 font-semibold mb-2\">Debug: V3 Refactored API Data Structure</h3>\n                            <div className=\"text-sm text-blue-700 dark:text-blue-300 space-y-1\">\n                                <div>Has pipelineData: {pipelineData ? 'âœ…' : 'âŒ'}</div>\n                                <div>Has stage_results (direct): {pipelineData?.stage_results ? 'âœ…' : 'âŒ'}</div>\n                                <div>Has stage_results (nested): {pipelineData?.data?.stage_results ? 'âœ…' : 'âŒ'}</div>\n                                <div>Stage 1 Complete: {stageProgress.stage1 ? 'âœ…' : 'âŒ'}</div>\n                                <div>Stage 2 Complete: {stageProgress.stage2 ? 'âœ…' : 'âŒ'}</div>\n                                <div>Stage 3 Complete: {stageProgress.stage3 ? 'âœ…' : 'âŒ'}</div>\n                                {/* ENHANCED: Show stage errors if they exist */}\n                                {stageResults?.stage1?.error && (\n                                    <div className=\"text-red-600 dark:text-red-400\">Stage 1 Error: {stageResults.stage1.error}</div>\n                                )}\n                                {stageResults?.stage2?.error && (\n                                    <div className=\"text-red-600 dark:text-red-400\">Stage 2 Error: {stageResults.stage2.error}</div>\n                                )}\n                                {stageResults?.stage3?.error && (\n                                    <div className=\"text-red-600 dark:text-red-400\">Stage 3 Error: {stageResults.stage3.error}</div>\n                                )}\n                                <div>Main data keys: {pipelineData ? Object.keys(pipelineData).join(', ') : 'None'}</div>\n                                {stageResults && (\n                                    <div>Stage results keys: {Object.keys(stageResults).join(', ')}</div>\n                                )}\n                                {stageResults?.stage1 && (\n                                    <div>Stage 1 users: {stageResults.stage1.total_users || stageResults.stage1.cohort_size || 'N/A'}</div>\n                                )}\n                                {stageResults?.stage2 && (\n                                    <div>Stage 2 matches: {stageResults.stage2.matching_stats?.successful_matches || 0}/{stageResults.stage2.matching_stats?.total_users || 0}</div>\n                                )}\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Progressive Results Display */}\n                    {pipelineData && (\n                        <>\n                            {/* Stage 1: User Properties Input Results */}\n                            {stageProgress.stage1 && (\n                                <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6\">\n                                    <div className=\"flex items-center gap-2 mb-4\">\n                                        <Zap size={24} className=\"text-blue-600 dark:text-blue-400\" />\n                                        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                                            Stage 1: User Properties Input - Complete\n                                        </h2>\n                                    </div>\n                                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                                        <div className=\"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800\">\n                                            <h3 className=\"font-semibold text-blue-900 dark:text-blue-200\">Total Users Found</h3>\n                                            <p className=\"text-2xl font-bold text-blue-600 dark:text-blue-300\">\n                                                {pipelineData.stage_results?.stage1?.total_users || 0}\n                                            </p>\n                                        </div>\n                                        <div className=\"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800\">\n                                            <h3 className=\"font-semibold text-green-900 dark:text-green-200\">Date Range</h3>\n                                            <p className=\"text-sm font-medium text-green-600 dark:text-green-300\">\n                                                {analysisParams.date_from} to {analysisParams.date_to}\n                                            </p>\n                                        </div>\n                                        <div className=\"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800\">\n                                            <h3 className=\"font-semibold text-purple-900 dark:text-purple-200\">Stage Status</h3>\n                                            <p className=\"text-sm font-medium text-purple-600 dark:text-purple-300\">\n                                                âœ… User Cohort Extracted\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                            )}\n\n                            {/* Stage 2: User-to-Segment Matching Results */}\n                            {stageProgress.stage2 && (\n                                <Stage2UserMatchingResults data={pipelineData} />\n                            )}\n\n                            {/* Stage 3: Revenue Timeline Generation Results */}\n                            {stageProgress.stage3 && (\n                                <Stage3RevenueResultsV3 data={pipelineData} />\n                            )}\n                        </>\n                    )}\n\n                    {/* Debug Data Viewer */}\n                    {debugMode && pipelineData && (\n                        <DebugDataViewer \n                            data={pipelineData} \n                            stage={debugStage}\n                            title=\"V3 Refactored Pipeline Debug Data\"\n                        />\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CohortAnalyzerV3RefactoredPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}